<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.9.0">Jekyll</generator><link href="http://localhost:4000/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/" rel="alternate" type="text/html" /><updated>2021-04-27T13:44:29+09:00</updated><id>http://localhost:4000/feed.xml</id><title type="html">tmp/log</title><subtitle>GMO Pepabo, Inc. ãƒ•ã‚£ãƒ¨ãƒ«ãƒ‰ãƒ–ãƒ¼ãƒˆã‚­ãƒ£ãƒ³ãƒ—</subtitle><entry><title type="html">ãƒ•ã‚£ãƒ¨ãƒ«ãƒ‰ãƒ–ãƒ¼ãƒˆã‚­ãƒ£ãƒ³ãƒ—ã®ãƒ©ã‚¤ãƒˆãƒ‹ãƒ³ã‚°ãƒˆãƒ¼ã‚¯ä¼šã§ Rack ã«ã¤ã„ã¦è©±ã—ãŸ</title><link href="http://localhost:4000/talked-about-rack/" rel="alternate" type="text/html" title="ãƒ•ã‚£ãƒ¨ãƒ«ãƒ‰ãƒ–ãƒ¼ãƒˆã‚­ãƒ£ãƒ³ãƒ—ã®ãƒ©ã‚¤ãƒˆãƒ‹ãƒ³ã‚°ãƒˆãƒ¼ã‚¯ä¼šã§ Rack ã«ã¤ã„ã¦è©±ã—ãŸ" /><published>2021-04-27T00:00:00+09:00</published><updated>2021-04-27T00:00:00+09:00</updated><id>http://localhost:4000/talked-about-rack</id><content type="html" xml:base="http://localhost:4000/talked-about-rack/">&lt;p&gt;ãƒ•ã‚£ãƒ¨ãƒ«ãƒ‰ãƒ–ãƒ¼ãƒˆã‚­ãƒ£ãƒ³ãƒ—ã®ãƒ©ã‚¤ãƒˆãƒ‹ãƒ³ã‚°ãƒˆãƒ¼ã‚¯ä¼šã«å…ˆæ—¥å‚åŠ ã—ã€Rack ã«ã¤ã„ã¦è©±ã—ãŸã®ã§ã‚¹ãƒ©ã‚¤ãƒ‰ã¨å­¦ã‚“ã§å¾—ãŸå†…å®¹ã‚’æ›¸ãã€‚&lt;/p&gt;

&lt;!-- more --&gt;

&lt;p&gt;æœ€åˆã«ãƒ©ã‚¤ãƒˆãƒ‹ãƒ³ã‚°ãƒˆãƒ¼ã‚¯ä¼šã¸å‚åŠ ã™ã‚‹ã¨ã„ã†ã®ã ã‘æ±ºã‚ã¦ã€ãƒ†ãƒ¼ãƒã¯å¾Œã‹ã‚‰è€ƒãˆãŸã€‚&lt;/p&gt;

&lt;p&gt;Ruby ã® gem ã§ã‚ã‚‹ OmniAuth ã‚’ä½¿ã£ã¦ã„ã‚‹ã¨ãã«ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®æ¦‚å¿µã«å‡ºä¼šã£ãŸã®ã§ã€ã‚ˆãã‚ã‹ã£ã¦ã„ãªã„ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®ã“ã¨ã‚’å­¦ã¶ã„ã„æ©Ÿä¼šã ãªã¨æ€ã£ãŸã®ã§ç™ºè¡¨ãƒ†ãƒ¼ãƒã«é¸ã‚“ã§ã€Rack ã‚’è§¦ã£ã¦ã¿ãŸã€‚&lt;/p&gt;

&lt;h1 id=&quot;ç™ºè¡¨ã—ãŸã‚¹ãƒ©ã‚¤ãƒ‰&quot;&gt;ç™ºè¡¨ã—ãŸã‚¹ãƒ©ã‚¤ãƒ‰&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;https://speakerdeck.com/ot0m1/rack-karajian-rumidoruueafalseshi-jie&quot;&gt;https://speakerdeck.com/ot0m1/rack-karajian-rumidoruueafalseshi-jie&lt;/a&gt;&lt;/p&gt;

&lt;h1 id=&quot;ç™ºè¡¨ã—ãŸå†…å®¹&quot;&gt;ç™ºè¡¨ã—ãŸå†…å®¹&lt;/h1&gt;

&lt;p&gt;Rack ã‹ã‚‰è¦‹ã‚‹ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®ä¸–ç•Œã¨ã„ã†ã‚¿ã‚¤ãƒˆãƒ«ã§ã€ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã£ã¦ã©ã‚“ãªã‚‚ã®ã‹ã€Rack ã¨ã¯ãªã‚“ãã‚„ã€Rack ã‚’è§¦ã£ã¦ã¿ã¦ã©ã†ã‹ã‚’ãŠè©±ã—ã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ãªãœ-rack-ã‚’è§¦ã‚ã†ã¨æ€ã£ãŸã‹&quot;&gt;ãªãœ Rack ã‚’è§¦ã‚ã†ã¨æ€ã£ãŸã‹&lt;/h2&gt;

&lt;p&gt;ã€Œomniauth ã‚’ä½¿ã£ã¦ GitHub èªè¨¼ã‚’å®Ÿè£…ã™ã‚‹ã€ã®ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’ã‚„ã£ã¦ã„ã‚‹ã¨ãã«èª­ã‚“ã ãƒ‘ãƒ¼ãƒ•ã‚§ã‚¯ãƒˆ Ruby on Rails ã«ã€
OmniAuthã¯RackãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã¨ã—ã¦å‹•ä½œã™ã‚‹ã€ã¨ã„ã†è¨˜è¿°ãŒã‚ã£ãŸãŸã‚ã§ã™ã€‚&lt;br /&gt;
ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã¨ã¯ï¼Ÿã‚¢ã‚¯ã‚»ã‚¹ã‚’å—ã‘å–ã‚‹ã¨ã¯ï¼Ÿã©ã‚“ãªå‹•ãã‚’ã—ã¦ã„ã‚‹ã®ã‹ã¨ã„ã†ã¨ã“ã‚ã‚’èª¿ã¹ãŸã‹ã£ãŸã®ãŒå‹•æ©Ÿã«ãªã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;h2 id=&quot;rack-ã¨ã¯&quot;&gt;Rack ã¨ã¯&lt;/h2&gt;

&lt;p&gt;è‡ªåˆ†ã§èª¿ã¹ãŸã¨ã“ã‚ã€WEB ã‚µãƒ¼ãƒã¨ WEB ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯é–“ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å½¹å‰²ã‚’æœãŸã™ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€ã¨ã®ã“ã¨ã§ã—ãŸ&lt;/p&gt;

&lt;h2 id=&quot;ãªãœ-web-ã‚µãƒ¼ãƒã¨-web-ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯é–“ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å½¹å‰²ã‚’æœãŸã™ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚‹ã¨ã†ã‚Œã—ã„ã®ã‹ãªãœ-rack-ãŒã§ããŸã®ã‹&quot;&gt;ãªãœ WEB ã‚µãƒ¼ãƒã¨ WEB ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ï¼ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯é–“ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å½¹å‰²ã‚’æœãŸã™ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãŒã‚ã‚‹ã¨ã†ã‚Œã—ã„ã®ã‹ã€ãªãœ Rack ãŒã§ããŸã®ã‹&lt;/h2&gt;

&lt;p&gt;å‚è€ƒã«ã—ãŸ &lt;a href=&quot;https://gihyo.jp/dev/serial/01/ruby/0023&quot;&gt;URL&lt;/a&gt; ã«æ¬¡ã®ã‚ˆã†ãªçµŒç·¯ãŒæ›¸ã‹ã‚Œã¦ã‚ã‚Šã¾ã—ãŸã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;WSGI ã¨ã„ã†ã€Python ã®ãŸã‚ã® Web ã‚µãƒ¼ãƒã¨ Web ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³/ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯é–“ã®æ¨™æº–ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’å®šã‚ã‚‹ä»•æ§˜ãŒã‚ã‚Šã€Rack ã¯ã“ã® WSGI ã«å½±éŸ¿ã•ã‚Œã¦é–‹ç™ºã•ã‚ŒãŸ&lt;/li&gt;
  &lt;li&gt;å„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®å®Ÿè£…ã¯ç‰¹å®šã® Web ã‚µãƒ¼ãƒã«ä¾å­˜ã—ã¦ã„ã‚‹ã“ã¨ãŒå¤šãï¼Œä½¿ç”¨ã—ãŸã„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®ç‚ºã«ç’°å¢ƒã‚’åˆ¶é™ã•ã‚Œã‚‹ã¨ã„ã†ã“ã¨ãŒã‚ã£ãŸãŸã‚ã€WSGI ã¨ã„ã†æ¨™æº–ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚’å®šã‚ã‚‹ä»•æ§˜ãŒæå”±ã•ã‚ŒãŸ&lt;/li&gt;
  &lt;li&gt;æ§˜ã€…ãª Web ã‚µãƒ¼ãƒã‚„ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ãŒé–‹ç™ºã•ã‚Œã¦ã‚‚ï¼ŒåŒæ–¹ãŒ Rack ã‚’ä½¿ç”¨ã—ã¦ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹éƒ¨åˆ†ã‚’å®Ÿè£…ã—ã¦ã„ã•ãˆã™ã‚Œã°ã€ã‚µãƒ¼ãƒã¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®çµ„ã¿åˆã‚ã›ã‚’æ°—ã«ã—ãªãã¦ã‚ˆããªã‚‹&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ã¨ã„ã†çµŒç·¯ã¨ã†ã‚Œã—ã„ç†ç”±ãŒã‚ã‚‹ã‚ˆã†ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ãƒ•ã‚£ãƒ¨ãƒ«ãƒ‰ãƒ–ãƒ¼ãƒˆã‚­ãƒ£ãƒ³ãƒ—ã®ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã§ã‚‚å‡ºã¦ãã‚‹ Sinatora ã‚„ Ruby on Rails ã§ã‚‚ã“ã® Rack ã¯ä½¿ã‚ã‚Œã¦ã„ã‚‹ã‚ˆã†ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã¨ã„ã†ã‚ã‘ã§ã•ã£ããè§¦ã£ã¦ã¿ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã¾ãšã¯ Rack ã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã£ã¦ã¿ã¦ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã«è§¦ã‚Œã¦ã¿ã¾ã™ã€‚&lt;br /&gt;
Rack ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã—ã¦ã¯ã‚¹ãƒ©ã‚¤ãƒ‰ã«æ›¸ã‹ã‚Œã¦ã„ã‚‹æœ€ä½é™ 3ã¤ã®ã“ã¨ã‚’æº€ãŸã›ã°ã‚ˆã„ãã†ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã¯ã„ã§ãã¾ã—ãŸã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/ot0m1/sibatora&quot;&gt;https://github.com/ot0m1/sibatora&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;GET ãƒªã‚¯ã‚¨ã‚¹ãƒˆã§ãƒ•ã‚©ãƒ¼ãƒ ã‚’æç”»ã—ã¦ã€POST ã§ãƒ•ã‚©ãƒ¼ãƒ ã«æ›¸ã‹ã‚ŒãŸå†…å®¹ã‚’å—ã‘å–ã£ã¦è¡¨ç¤ºã™ã‚‹ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;shibatora ã¨ã„ã†åç§°ã¯ Sinatra ã‹ã‚‰æ¥ã¦ã„ã¾ã™ã€‚&lt;br /&gt;
å½“åˆ Sinatra ã‚’ãƒ¢ãƒãƒ¼ãƒ•ã«ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ãŒã§ãã‚‹ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã‚’ä½œã‚ã†ã¨ã—ã¦ã„ãŸã‚“ã§ã™ãŒã€ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã®å‹•ãã‚’è¦‹ãŸã„ã®ãŒä»Šå›ã®ç›®çš„ãªã®ã§ã€ã‚ã‚“ã¾ã‚Šè¤‡é›‘ãªã“ã¨ã‚’ã‚„ã£ã¦ã‚‚æœ¬é¡Œã‹ã‚‰ãšã‚Œã‚‹ãªã¨æ€ã£ã¦ä¸Šè¨˜ã®ã‚ˆã†ãªç°¡å˜ãªæŒ™å‹•ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã«ã—ã¾ã—ãŸã€‚ãã®æ™‚ã®åæ®‹ã§åå‰ã ã‘å¼•ãç¶™ã„ã§ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;Rack ãŒè‰²ã€…ã‚„ã£ã¦ãã‚Œã‚‹ã®ã§ Web ã‚µãƒ¼ãƒã®ã“ã¨ã‚’æ›¸ã‹ãªãã¦ã‚‚ã€&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rackup&lt;/code&gt; ã™ã‚Œã°è‡ªå‹•ã§ã‚µãƒ¼ãƒã‚’èµ·å‹•ã—ã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚ˆã†ã«ã—ã¦ãã‚Œã¾ã™ã€‚&lt;br /&gt;
Sinatra ã‚„ Ruby on Rails ã‚’èµ·å‹•ã•ã›ã‚‹ã®ã¨åŒã˜ä»•æ§˜æ„Ÿã§ã—ãŸã€‚&lt;/p&gt;

&lt;p&gt;ã“ã“ã§ç¢ºã‹ã« Shinatra ã‚„ Ruby on Rails ã‚‚ Rack ãŒä½¿ã‚ã‚Œã¦ãŠã‚Šã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã‚µãƒ¼ãƒã®ã“ã¨ã‚’æ„è­˜ã—ãªãã¦ã‚ˆã„ã¨ã„ã†ã“ã¨ãªã®ã‹ãªã¨ã„ã†ã“ã¨ã‚’æ„Ÿã˜ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;h2 id=&quot;ã•ã‚‰ã«-rack-ã§ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢çš„ãªã‚‚ã®ã‚‚ä½œã£ã¦ã¿ã‚‹&quot;&gt;ã•ã‚‰ã« Rack ã§ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢çš„ãªã‚‚ã®ã‚‚ä½œã£ã¦ã¿ã‚‹&lt;/h2&gt;

&lt;p&gt;ã§ãã¾ã—ãŸã€‚&lt;/p&gt;

&lt;p&gt;å†’é ­ã§ãŠè©±ã—ãŸ OmniAuth ã¨åŒã˜ã‚ˆã†ã«ã€ã‚µãƒ¼ãƒã¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ä¸­é–“ã«å…¥ã£ã¦æŒ¯ã‚‹èˆã£ã¦ã‚‚ã‚‰ã†ã‚ˆã†ãªã‚‚ã®ã‚’ä½œã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã¨ã„ã†ã‚ã‘ã§ã€ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ã˜ã‚ƒãªã„ã»ã†ã® WAFï¼ˆã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ã‚¡ã‚¤ã‚¢ã‚¦ã‚©ãƒ¼ãƒ«ï¼‰ã‚’ä½œã£ã¦ã¿ã¾ã—ãŸã€‚
shibatora_waf.rb ã¨ã„ã†ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¿½åŠ ã—ã¦ã„ã¾ã™ã€‚ã•ã£ãã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ•ã‚©ãƒ¼ãƒ ã« URL ãŒæ›¸ãè¾¼ã¾ã‚ŒãŸã‚‰è­¦å‘Šæ–‡ã¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ 403 ã‚’è¿”ã™ã‚ˆã†ã«ã‚ˆã†ã«ã™ã‚‹ã¨ã„ã†ã‚‚ã®ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã‚µãƒ¼ãƒãƒ¼ãŒå‹•ã„ã¦ã„ã‚‹ã®ã§ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;curl&lt;/code&gt; ãŒãŸãŸã‘ã‚‹ãŸã‚ã€ã“ã®ã‚ˆã†ã«ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ã§ã‚‚ç¢ºèªã§ãã¾ã™ã€‚&lt;/p&gt;

&lt;div class=&quot;language-bash highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;-&amp;gt; %  curl http://127.0.0.1:9292/ &lt;span class=&quot;nt&quot;&gt;-X&lt;/span&gt; POST &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'hello'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt;
HTTP/1.1 200 OK
Content-Type: text/html&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;charset&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;utf-8
Content-Length: 31

&amp;lt;html&amp;gt;&amp;lt;body&amp;gt;hello&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;%

-&amp;gt; % curl http://127.0.0.1:9292/ &lt;span class=&quot;nt&quot;&gt;-X&lt;/span&gt; POST &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'https://example.com'&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-i&lt;/span&gt;
HTTP/1.1 403 Forbidden
Content-Type: text/html&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;charset&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;utf-8
Content-Length: 68

&amp;lt;html&amp;gt;&amp;lt;body&amp;gt;URLã‚’å«ã‚€æ–‡ç« ã¯æŠ•ç¨¿ã§ãã¾ã›ã‚“&amp;lt;/body&amp;gt;&amp;lt;/html&amp;gt;%
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ã“ã®ã‚ˆã†ã«ã€ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã¨ã—ã¦å‹•ã„ã¦ã„ã‚‹ã“ã¨ãŒç¢ºèªã§ãã¾ã™ã€‚
shibatora_waf.rb ãŒãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢ã¨ã—ã¦æŒ¯ã‚‹èˆã£ã¦ãã‚Œã€ã‚µãƒ¼ãƒã¨ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®é–“ã®é€šä¿¡ã«å‰²ã‚Šè¾¼ã‚“ã§ã„ã‚‹ã¨ã„ã†ã“ã¨ãŒã‚ã‹ã‚Šã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ãå´ã¯ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å±¤ã ã‘ã‚’æ„è­˜ã—ã¦ãŠã‘ã°ã‚ˆãã€ãã®ä¸‹ã®å±¤ã«ãŠã„ã¦ Rack ãŒã„ã„æ„Ÿã˜ã« HTTP ã®ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’æ“ä½œã—ã¦ãã‚Œã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ã¨ã„ã†ã‚ã‘ã§å†’é ­ã® OmniAuth ã®æŒ¯ã‚‹èˆã„ã‚’ãªã‚“ã¨ãªãã‚¤ãƒ¡ãƒ¼ã‚¸ã§ãã¾ã—ãŸã€‚&lt;/p&gt;</content><author><name>otomi</name></author><category term="blog" /><category term="ruby" /><category term="fjord" /><summary type="html">ãƒ•ã‚£ãƒ¨ãƒ«ãƒ‰ãƒ–ãƒ¼ãƒˆã‚­ãƒ£ãƒ³ãƒ—ã®ãƒ©ã‚¤ãƒˆãƒ‹ãƒ³ã‚°ãƒˆãƒ¼ã‚¯ä¼šã«å…ˆæ—¥å‚åŠ ã—ã€Rack ã«ã¤ã„ã¦è©±ã—ãŸã®ã§ã‚¹ãƒ©ã‚¤ãƒ‰ã¨å­¦ã‚“ã§å¾—ãŸå†…å®¹ã‚’æ›¸ãã€‚</summary></entry><entry><title type="html">ã¯ã¦ãªãƒ–ãƒ­ã‚°ã‹ã‚‰ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ jeykll ã§èª­ã¿è¾¼ã‚ã‚‹ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã«å¤‰æ›ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆæ›¸ã„ãŸ</title><link href="http://localhost:4000/created-a-migration-script/" rel="alternate" type="text/html" title="ã¯ã¦ãªãƒ–ãƒ­ã‚°ã‹ã‚‰ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ jeykll ã§èª­ã¿è¾¼ã‚ã‚‹ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ã«å¤‰æ›ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆæ›¸ã„ãŸ" /><published>2021-04-16T00:00:00+09:00</published><updated>2021-04-16T00:00:00+09:00</updated><id>http://localhost:4000/created-a-migration-script</id><content type="html" xml:base="http://localhost:4000/created-a-migration-script/">&lt;p&gt;&lt;a href=&quot;https://blog.otomi.world/my-forst-jekyll/&quot;&gt;æ˜¨æ—¥&lt;/a&gt;æ›¸ã„ãŸã‚ˆã†ã«ã€ã¯ã¦ãªãƒ–ãƒ­ã‚°ã‹ã‚‰ jeykll ã«ç§»è¡Œã—ãŸã€‚&lt;/p&gt;

&lt;p&gt;ã¯ã¦ãªãƒ–ãƒ­ã‚°ã§æ›¸ã„ã¦ã„ãŸè¨˜äº‹ã‚’ç§»ã™éš›ã«ã€ã‚ã‚‹ç¨‹åº¦è‡ªå‹•åŒ–ã§ããŸã®ã§ã‚„ã£ãŸã“ã¨æ›¸ãã€‚&lt;/p&gt;

&lt;!-- more --&gt;

&lt;p&gt;ã¯ã¦ãªãƒ–ãƒ­ã‚°ã¯ä»¥ä¸‹ã®æ‰‹é †ã§è¨˜äº‹ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã§ãã‚‹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://help.hatenablog.com/entry/export&quot;&gt;è¨˜äº‹ãƒ‡ãƒ¼ã‚¿ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆï¼ˆãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ï¼‰ã™ã‚‹&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã•ã‚ŒãŸè¨˜äº‹ã¯ Movable Type å½¢å¼ã®ãƒ–ãƒ­ã‚°ãƒ‡ãƒ¼ã‚¿ã‚‰ã—ã„ã®ã ãŒã€jeykll ã¯ãã®ã¾ã¾ã ã¨è¨˜äº‹ã¨ã—ã¦èª­ã¿è¾¼ã‚ãªã„ã½ã„ã®ã§ã€å„è¨˜äº‹æ¯ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’åˆ†å‰²ã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ Ruby ã§æ›¸ã„ãŸã€‚&lt;/p&gt;

&lt;p&gt;ã‚³ãƒ¼ãƒ‰ã¯ GitHub ã«ç½®ã„ã¦ã„ã‚‹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/ot0m1/hatena-blog-to-jekyll&quot;&gt;https://github.com/ot0m1/hatena-blog-to-jekyll&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;1ã¤ã®ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¨˜äº‹æ¯ã®ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆ†å‰²ã—ã¦ã€ãã®ã¾ã¾ jeykll ã® _posts ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«æ”¾ã‚Šè¾¼ã‚ã‚‹ã‚ˆã†ã«ã—ãŸã€‚&lt;/p&gt;

&lt;h1 id=&quot;ã‚„ã£ãŸã“ã¨&quot;&gt;ã‚„ã£ãŸã“ã¨&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;1ã¤ã®ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¨˜äº‹æ¯ã®ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã«åˆ†å‰²&lt;/li&gt;
  &lt;li&gt;è¨˜äº‹ã‚’åˆ†å‰²ã—ã¦é…åˆ—ã«æ ¼ç´
    &lt;ul&gt;
      &lt;li&gt;æ­£è¦è¡¨ç¾ã§ split&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;åˆ†å‰²ã—ãŸè¨˜äº‹ã®ãƒ¡ã‚¿æƒ…å ±ã¨æœ¬æ–‡ã‚’ãã‚Œãã‚Œãƒ˜ãƒƒãƒ€ãƒ¼ã¨ãƒœãƒ‡ã‚£ã¨ã—ã¦ hash ã§æŒã¤&lt;/li&gt;
  &lt;li&gt;ãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ jeykll ã®å½¢å¼ã«å¤‰æ›&lt;/li&gt;
  &lt;li&gt;ãƒœãƒ‡ã‚£ã® html ã®æ§‹æ–‡ã‚’ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³å½¢å¼ã«å¤‰æ›
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;https://github.com/xijo/reverse_markdown&quot;&gt;reverse_markdown&lt;/a&gt; ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã‚’åˆ©ç”¨ã•ã›ã¦ã‚‚ã‚‰ã£ãŸ&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;è¨˜äº‹æ¯ã«ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦æ›¸ãå‡ºã™&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;ã‚„ã£ã¦ã¿ã¦&quot;&gt;ã‚„ã£ã¦ã¿ã¦&lt;/h1&gt;
&lt;ul&gt;
  &lt;li&gt;jeykll ã§è¨˜äº‹ã¨ã—ã¦æ‰±ã£ã¦ã‚‚ã‚‰ãˆã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ãŒä¸æ˜ã ã£ãŸã®ã§ã€å¤‰æ›ã®æœ€é©åŒ–ãŒã§ããªã‹ã£ãŸ
    &lt;ul&gt;
      &lt;li&gt;æ›¸ãå‡ºã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ _posts ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«æ”¾ã‚Šè¾¼ã‚“ã§ã‚‚ã€ã‚¿ã‚¤ãƒˆãƒ«ãŒã†ã¾ãåæ˜ ã—ãªã‹ã£ãŸã‚Šãƒšãƒ¼ã‚¸ãƒ³ã‚°ã§ããªã‹ã£ãŸã‚Šã—ãŸ&lt;/li&gt;
      &lt;li&gt;jeykll å´ã®ãƒ‘ãƒ¼ãƒãƒªãƒ³ã‚¯ã®è¨­å®šãªã©ã§å¯¾å¿œã§ããã†ã ã£ãŸãŒã€ãã“ã¾ã§èª¿ã¹ã‚‹å…ƒæ°—ãŒãªãçµå±€æ‰‹ä½œæ¥­ã§ã®ä¿®æ­£ãŒç™ºç”Ÿã—ãŸ&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;è¨˜äº‹æ¯ã«ãƒãƒ¼ã‚¯ãƒ€ã‚¦ãƒ³ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œã‚‹ã®ã¯ã§ããŸã®ã§ã€æ‰‹ä½œæ¥­ã¯ç™ºç”Ÿã¯ã—ãŸãŒå¤§å¹…ã«ç§»è¡Œã™ã‚‹æ™‚é–“ã¯çŸ­ç¸®ã§ããŸ
    &lt;ul&gt;
      &lt;li&gt;è‡ªåˆ†ã¯20è¨˜äº‹ãã‚‰ã„ã ã£ãŸãŒã€100è¨˜äº‹è¶…ãˆã‚‹ã¨ã‹ãªã£ã¦ãã‚‹ã¨ã‚‚ã£ã¨æ™‚é–“çŸ­ç¸®ãŒåŠ¹ã„ã¦ãã‚‹ã¨æ€ã†&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;ã¾ã¨ã‚&quot;&gt;ã¾ã¨ã‚&lt;/h1&gt;
&lt;p&gt;ç¾å®Ÿã«èµ·ã“ã£ã¦ã„ã‚‹èª²é¡Œã‚’ Ruby ã§è§£æ±ºã™ã‚‹ã“ã¨ãŒã§ããŸã®ãŒãªã«ã‚ˆã‚Šã®åç©«ã§ã—ãŸã€‚&lt;/p&gt;</content><author><name>otomi</name></author><category term="blog" /><category term="ruby" /><summary type="html">æ˜¨æ—¥æ›¸ã„ãŸã‚ˆã†ã«ã€ã¯ã¦ãªãƒ–ãƒ­ã‚°ã‹ã‚‰ jeykll ã«ç§»è¡Œã—ãŸã€‚ ã¯ã¦ãªãƒ–ãƒ­ã‚°ã§æ›¸ã„ã¦ã„ãŸè¨˜äº‹ã‚’ç§»ã™éš›ã«ã€ã‚ã‚‹ç¨‹åº¦è‡ªå‹•åŒ–ã§ããŸã®ã§ã‚„ã£ãŸã“ã¨æ›¸ãã€‚</summary></entry><entry><title type="html">ãƒ–ãƒ­ã‚°ã‚’ Jekyll ã«ç§»è¡Œã—ã¦ã¿ãŸ</title><link href="http://localhost:4000/my-forst-jekyll/" rel="alternate" type="text/html" title="ãƒ–ãƒ­ã‚°ã‚’ Jekyll ã«ç§»è¡Œã—ã¦ã¿ãŸ" /><published>2021-04-15T20:54:09+09:00</published><updated>2021-04-15T20:54:09+09:00</updated><id>http://localhost:4000/my-forst-jekyll</id><content type="html" xml:base="http://localhost:4000/my-forst-jekyll/">&lt;p&gt;ãƒ–ãƒ­ã‚°ã‚’ Jekyll ã«ç§»è¡Œã—ã¦ã¿ãŸã€‚
&lt;!-- more --&gt;
&lt;br /&gt;
ã‚ã¡ã‚ƒã‚ã¡ã‚ƒè‹¦æˆ¦ã—ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;p&gt;ä»Šã¾ã§ã¯ã¦ãªãƒ–ãƒ­ã‚°ã§ã‚„ã£ã¦ã„ãŸãƒ–ãƒ­ã‚°ã‚’ Jekyll ã«ç§»è¡Œã—ã¾ã—ãŸã€‚
ç§»è¡Œã—ãŸç†ç”±ã¯ã€&lt;/p&gt;
&lt;ul&gt;
  &lt;li&gt;ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã§ãƒ–ãƒ­ã‚°ã‚’é‹å–¶ã—ãŸã‹ã£ãŸ&lt;/li&gt;
  &lt;li&gt;ã¯ã¦ãªãƒ–ãƒ­ã‚°ã ã¨ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã‚’åˆ©ç”¨ã™ã‚‹ãŸã‚ã«æœˆç´„ 1,000 å††ãã‚‰ã„ã®ãƒ—ãƒ­ãƒ—ãƒ©ãƒ³ã«å¤‰æ›´ã—ãªã„ã¨ã„ã‘ãªã‹ã£ãŸ&lt;/li&gt;
  &lt;li&gt;ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã«ã™ã‚‹ã®ã«æœˆç´„ 1,000 å††ã¯é«˜ã„ãªãã¨æ€ã£ã¦ã„ãŸ
    &lt;ul&gt;
      &lt;li&gt;ãƒ—ãƒ­ã˜ã‚ƒãªã„ã¨åºƒå‘ŠãŒæ¶ˆã›ãªã„ã®ã‚‚ã¡ã‚‡ã£ã¨ã„ã‚„ã ã£ãŸ&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;ãšã£ã¨é™çš„ã‚µã‚¤ãƒˆã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ã‚’ã‚„ã£ã¦ã¿ãŸã‹ã£ãŸ&lt;/li&gt;
  &lt;li&gt;ä»Š Ruby ã‚’å‹‰å¼·ã—ã¦ã„ã‚‹ã®ã§ Ruby è£½ã®ã‚‚ã®ã‚’ä½¿ã†ã“ã¨ã«ã—ãŸ&lt;/li&gt;
  &lt;li&gt;GitHub Pages ã‚‚ã‚„ã£ã¦ã¿ãŸã‹ã£ãŸ&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ã¨ã„ã†ã‚‚ã®ã€‚&lt;/p&gt;

&lt;p&gt;ã¨ã„ã†ã‚ã‘ã§ã€Jekyll ã§ãƒ–ãƒ­ã‚°ã‚’ä½œã£ã¦ã€ç‹¬è‡ªãƒ‰ãƒ¡ã‚¤ãƒ³ã§ GitHub Pages ã§ãƒ›ã‚¹ãƒˆã™ã‚‹ã“ã¨ã«ã—ãŸã€‚&lt;/p&gt;

&lt;p&gt;GitHub Pages ã§ã‚µã‚¤ãƒˆã‚’ä½œæˆã—ãŸéš›ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒ†ãƒ¼ãƒã® Jekyll ã®ã‚µã‚¤ãƒˆãªã‚‰ GitHub ã®ã‚µã‚¤ãƒˆã«æ›¸ã‹ã‚Œã¦ã„ã‚‹æ‰‹é †é€šã‚Šã«é€²ã‚ã‚‹ã ã‘ã§ã™ãã§ããŸãŒã€ãã®å¾Œãƒ†ãƒ¼ãƒã‚’å¤‰æ›´ã—ã‚ˆã†ã¨ã—ãŸã¨ã“ã‚ã§ã¤ã¾ãšãã¾ãã£ãŸã€‚&lt;/p&gt;

&lt;p&gt;Jekyll ã®ãƒ†ãƒ¼ãƒã®å¤‰æ›´æ–¹æ³•ã¯è¤‡æ•°ã‚ã‚‹ã‚ˆã†ã§ã€æœ€åˆã¯ã™ãã§ããã†ãª gem å½¢å¼ãªã©ã‚’ã‚„ã£ã¦ã„ãŸãŒã†ã¾ãã„ã‹ãšã€‚&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bundle exec jekyll serve&lt;/code&gt; ã—ãŸå¾Œã«ãƒ­ã‚°ãŒæµã‚Œã‚‹ã®ã§ãã‚Œã‚’è¦‹ã‚‹ã«ã€å¤‰æ›´å¾Œã®ãƒ†ãƒ¼ãƒã§å¿…è¦ãªãƒ•ã‚¡ã‚¤ãƒ«ãŒãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã§ããªã„ã¨ã„ã†ã‚ˆã†ãªå†…å®¹ã§ã‚ã£ãŸãŒã€ã©ã†ã‚„ã£ã¦ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°ã•ã›ã‚‰ã‚Œã‚‹ã®ã‹ãŒåˆ†ã‹ã‚‰ãªã‹ã£ãŸã€‚&lt;/p&gt;

&lt;p&gt;ãªã®ã§ã€å¤‰æ›´ã—ãŸã„ãƒ†ãƒ¼ãƒã‚’ãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰ãƒ•ã‚©ãƒ¼ã‚¯ã—ã¦ãã¦ã€ãã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç·¨é›†ã™ã‚‹ã¨ã„ã†æ–¹æ³•ã§å¯¾å¿œã—ãŸã€‚&lt;/p&gt;

&lt;p&gt;ãƒ•ã‚©ãƒ¼ã‚¯ã—ãŸãƒ†ãƒ¼ãƒã«ã¯ãªãœã‹ Gemfile ãŒå­˜åœ¨ã—ã¦ãŠã‚‰ãšã€bundle ãŒã§ããªã„ã®ã§ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆãƒ†ãƒ¼ãƒã® Gemfile ã®ä¸€éƒ¨ã‚’ã‚³ãƒ”ãƒšã—ã¦ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;bundle install&lt;/code&gt; ã—ã¦ãªã‚“ã¨ã‹å¤‰æ›´ã§ããŸã€‚&lt;/p&gt;</content><author><name>otomi</name></author><category term="blog" /><summary type="html">ãƒ–ãƒ­ã‚°ã‚’ Jekyll ã«ç§»è¡Œã—ã¦ã¿ãŸã€‚</summary></entry><entry><title type="html">ã“ã“æ•°æ—¥ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’é€²ã‚ã‚‹æ‰‹ãŒæ—ã‚‰ãªã„ã®ã§ç†ç”±ã‚’è€ƒãˆãŸ</title><link href="http://localhost:4000/I-figured-out-why/" rel="alternate" type="text/html" title="ã“ã“æ•°æ—¥ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’é€²ã‚ã‚‹æ‰‹ãŒæ—ã‚‰ãªã„ã®ã§ç†ç”±ã‚’è€ƒãˆãŸ" /><published>2021-02-04T00:00:00+09:00</published><updated>2021-02-04T00:00:00+09:00</updated><id>http://localhost:4000/I-figured-out-why</id><content type="html" xml:base="http://localhost:4000/I-figured-out-why/">&lt;p&gt;ç›¸å¤‰ã‚ã‚‰ãš&lt;a href=&quot;http://d.hatena.ne.jp/keyword/%A5%D5%A5%A3%A5%E8%A5%EB%A5%C9&quot;&gt;ãƒ•ã‚£ãƒ¨ãƒ«ãƒ‰&lt;/a&gt;ãƒ–ãƒ¼ãƒˆã‚­ãƒ£ãƒ³ãƒ—ã‚’ç²›ã€…ã¨é€²ã‚ã¦ã„ã‚‹ã®ã ãŒã€ã€Œ&lt;a href=&quot;http://d.hatena.ne.jp/keyword/Rails&quot;&gt;Rails&lt;/a&gt; ã® &lt;a href=&quot;http://d.hatena.ne.jp/keyword/i18n&quot;&gt;i18n&lt;/a&gt; ã‚’ç†è§£ã™ã‚‹ã€ã®èª²é¡Œã«å…¥ã£ã¦æ‰‹ãŒå‹•ã‹ãªã„ãªã€œã¨æ„Ÿã˜ã¦ã€ãªãœã‹ã‚’è€ƒãˆã¦ã¿ãŸã€‚&lt;/p&gt;

&lt;!-- more --&gt;
&lt;ul&gt;
  &lt;li&gt;ãƒ—&lt;a href=&quot;http://d.hatena.ne.jp/keyword/%A5%E9%A5%AF&quot;&gt;ãƒ©ã‚¯&lt;/a&gt;ãƒ†ã‚£ã‚¹ã‚’ä¸€æ°—ã«çµ‚ã‚ã‚‰ã›ã‚‹ã‚ˆã†ãªé€²ã‚æ–¹ã‚’ä»Šã¾ã§ã—ã¦ãã¦ã„ãŸ&lt;/li&gt;
  &lt;li&gt;ä¸€æ°—ã«çµ‚ã‚ã‚‰ã›ã‚‹ãŸã‚ã®ã‚¹ãƒ†ãƒƒãƒ—ã¯ã“ã‚Œã¾ã§ã®ãƒ—&lt;a href=&quot;http://d.hatena.ne.jp/keyword/%A5%E9%A5%AF&quot;&gt;ãƒ©ã‚¯&lt;/a&gt;ãƒ†ã‚£ã‚¹ã§ã‚ã‚Œã°å‰²ã¨ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ãã¦ãŠã‚Šã€å®Ÿéš›ãã®é€šã‚Šã«æ‰‹ãŒå‹•ã„ã¦ã„ãŸ&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://d.hatena.ne.jp/keyword/Rails&quot;&gt;Rails&lt;/a&gt; ã® &lt;a href=&quot;http://d.hatena.ne.jp/keyword/i18n&quot;&gt;i18n&lt;/a&gt; ã¯å®Œå…¨ã«æ–°ã—ãè§¦ã‚Œã‚‹å†…å®¹ã§ã€ãƒ—&lt;a href=&quot;http://d.hatena.ne.jp/keyword/%A5%E9%A5%AF&quot;&gt;ãƒ©ã‚¯&lt;/a&gt;ãƒ†ã‚£ã‚¹ã®çµ‚äº†æ¡ä»¶ã‚’ã©ã†ã‚„ã£ã¦å®Œæˆã•ã›ã‚‰ã‚Œã‚‹ã‹ã®ã‚¤ãƒ¡ãƒ¼ã‚¸ãŒå…¨ãã§ããªã‹ã£ãŸ&lt;/li&gt;
  &lt;li&gt;å®Œäº†ã¾ã§ã«ä½•ã‚’ã‚„ã‚Œã°ã„ã„ã®ã‹ãŒæ¤œè¨ã‚‚ã¤ã‹ãªã„ã®ã«ã€ä¸€æ°—ã«çµ‚ã‚ã‚‰ã›ã¦ã‚„ã‚ã†ã¨è€ƒãˆã¦ã—ã¾ã£ã¦ã€ã‚´ãƒ¼ãƒ«ãŒé€”æ–¹ã‚‚ãªãé ãæ„Ÿã˜ã‚‰ã‚Œã¦æœ€åˆã®ä¸€æ­©ãŒè¸ã¿å‡ºã›ãªã„çŠ¶æ…‹ã«ãªã£ã¦ã„ã‚‹&lt;/li&gt;
  &lt;li&gt;æœ¬ã‚’èª­ã‚€ç³»ã®ãƒ—&lt;a href=&quot;http://d.hatena.ne.jp/keyword/%A5%E9%A5%AF&quot;&gt;ãƒ©ã‚¯&lt;/a&gt;ãƒ†ã‚£ã‚¹ãŒè‡ªåˆ†ãŒã‚‚ã‚„ã‚‚ã‚„ã™ã‚‹ã®ã‚‚ä¸€æ°—ã«çµ‚ã‚ã‚‰ã›ã‚‹ã®ãŒé›£ã—ã„æ€§è³ªã®ã‚‚ã®ã§ã‚ã‚‹ã®ã‚‚å¤§ã„ã«é–¢ä¿‚ã‚ã‚Šãã†&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ã¨ã„ã†ã“ã¨ãŒç†ç”±ã‹ãªãƒ¼ã¨è€ƒãˆãŸã€‚&lt;/p&gt;

&lt;p&gt;ç†æƒ³ã‚’é«˜ãã—ã™ãã¦ã„ã¦ç¾å®Ÿã¨ã®ã‚®ãƒ£ãƒƒãƒ—ã«ç›´é¢ã—ã¦æ‰‹ãŒå‹•ã‹ãªã„çŠ¶æ…‹ã«ãªã£ã¦ã„ãŸã®ã§ã€ã¾ãšã¯æ€ã„ã£ãã‚Šãƒãƒ¼ãƒ‰ãƒ«ä½ãã—ã¦ã€ã‚„ã‚‹ã“ã¨ã‚’ç´°ã‹ãåˆ†è§£ã™ã‚‹ã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;å‚è€ƒè³‡æ–™ã‚’è¦‹ã¦ &lt;a href=&quot;http://d.hatena.ne.jp/keyword/i18n&quot;&gt;i18n&lt;/a&gt; ã‚’ãªã‚“ã¨ãªãåˆ†ã‹ã£ãŸæ°—ã«ãªã£ã¦ã¿ã‚‹&lt;/li&gt;
  &lt;li&gt;ã¡ã‚ƒã‚“ã¨ç†è§£ã—ã‚ˆã†ã¨æ„æ°—è¾¼ã¾ãªã„&lt;/li&gt;
  &lt;li&gt;å†™çµŒã—ã¦ã¿ã¦ã²ã¨ã¾ãšå‹•ã‹ã—ã¦ã¿ã‚‹&lt;/li&gt;
  &lt;li&gt;å‹•ã‘ã° ğŸ’¯ ãã‚‰ã„ã®æ°—æŒã¡ã§ã€‚ä½¿ã‚ã‚Œã¦ã„ã‚‹ä»•çµ„ã¿ã¨ãƒ¡ã‚½ãƒƒãƒ‰ã‹å…¨éƒ¨æŠŠæ¡ã—ã‚ˆã†ã¨ã—ãªã„&lt;/li&gt;
  &lt;li&gt;ä¸€é€šã‚Šå‹•ã‹ã›ãŸã‚‰å¿…é ˆè¦ä»¶ &lt;strong&gt;ã ã‘&lt;/strong&gt; æº€ãŸã™&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ãã‚‰ã„ã¾ã§ãƒãƒ¼ãƒ‰ãƒ«ä½ãã—ã¦é€²ã‚ã‚ˆã†ã€‚&lt;/p&gt;

&lt;p&gt;ã¡ã‚‡ã£ã¨ã§ã‚‚ã‚´ãƒ¼ãƒ«ã¾ã§ã®è¦‹é€šã—ãŒå»ºãŸãªããªã‚‹ã¨ã€ã¨ãŸã‚“ã«ã‚„ã‚‹æ°—ã‚’ç„¡ãã™è‡ªåˆ†ã®è„³ã¿ãã«å‘†ã‚Œã¾ã™ã­â€¦ï¼ ãŠã˜ã•ã‚“ã«ãªã‚‹ã¾ã§ç”Ÿãã¦ãã¦ã€è‡ªåˆ†ã®æ„è­˜ã¨è‡ªåˆ†ã®è„³ã¿ãã¯æ±ºã—ã¦å…±é—˜é–¢ä¿‚ã«ã¯ãªã„ã¨ã„ã†ã“ã¨ãŒå®Ÿæ„Ÿã§ãã¦ããŸã€‚&lt;/p&gt;</content><author><name>otomi</name></author><category term="blog" /><summary type="html">ç›¸å¤‰ã‚ã‚‰ãšãƒ•ã‚£ãƒ¨ãƒ«ãƒ‰ãƒ–ãƒ¼ãƒˆã‚­ãƒ£ãƒ³ãƒ—ã‚’ç²›ã€…ã¨é€²ã‚ã¦ã„ã‚‹ã®ã ãŒã€ã€ŒRails ã® i18n ã‚’ç†è§£ã™ã‚‹ã€ã®èª²é¡Œã«å…¥ã£ã¦æ‰‹ãŒå‹•ã‹ãªã„ãªã€œã¨æ„Ÿã˜ã¦ã€ãªãœã‹ã‚’è€ƒãˆã¦ã¿ãŸã€‚</summary></entry><entry><title type="html">prepared statement ã‚’åˆ©ç”¨ã—ã¦SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã‚’å›é¿ã™ã‚‹</title><link href="http://localhost:4000/avoiding-sql-Injection/" rel="alternate" type="text/html" title="prepared statement ã‚’åˆ©ç”¨ã—ã¦SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã‚’å›é¿ã™ã‚‹" /><published>2021-01-24T00:00:00+09:00</published><updated>2021-01-24T00:00:00+09:00</updated><id>http://localhost:4000/avoiding-sql-Injection</id><content type="html" xml:base="http://localhost:4000/avoiding-sql-Injection/">&lt;p&gt;&lt;a href=&quot;https://akkkky.hatenablog.jp/entry/2021/01/20/001614&quot;&gt;å‰å›ã®è¨˜äº‹&lt;/a&gt;ã§ &lt;a href=&quot;http://d.hatena.ne.jp/keyword/ruby&quot;&gt;ruby&lt;/a&gt;-pg ã‹ã‚‰ &lt;a href=&quot;http://d.hatena.ne.jp/keyword/CRUD&quot;&gt;CRUD&lt;/a&gt; ã™ã‚‹ãŸã‚ã®æ–¹æ³•ã‚’æ›¸ã„ãŸãŒã€å¼•æ•°ã§ãƒ¡ãƒ¢ã®å†…å®¹ã‚’å—ã‘å–ã£ã¦ãã‚Œã‚’ã‚¯ã‚¨ãƒªæ–‡å­—åˆ—ã«çµåˆã—ã¦ã„ãŸã®ã§&lt;a href=&quot;http://d.hatena.ne.jp/keyword/SQL%A5%A4%A5%F3%A5%B8%A5%A7%A5%AF%A5%B7%A5%E7%A5%F3&quot;&gt;SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³&lt;/a&gt;ã®å±é™ºæ€§ãŒã‚ã£ãŸã€‚&lt;/p&gt;

&lt;p&gt;ãã®ãŸã‚ prepared statement ã‚’åˆ©ç”¨ã™ã‚‹ã‚ˆã†ã«å¤‰æ›´ã—ãŸã€‚&lt;/p&gt;

&lt;!-- more --&gt;

&lt;p&gt;ã¾ãšæœ¬å½“ã«æ–‡å­—åˆ—çµåˆã ã¨&lt;a href=&quot;http://d.hatena.ne.jp/keyword/SQL%A5%A4%A5%F3%A5%B8%A5%A7%A5%AF%A5%B7%A5%E7%A5%F3&quot;&gt;SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³&lt;/a&gt;ãŒå®Ÿè¡Œå¯èƒ½ãªã®ã‹ã€ prepared statement ã‚’åˆ©ç”¨ã™ã‚Œã°å›é¿ã§ãã‚‹ã®ã‹ã‚’æ¤œè¨¼ã€‚&lt;/p&gt;

&lt;p&gt;å‚è€ƒã‚µã‚¤ãƒˆï¼š&lt;a href=&quot;https://www.jpcert.or.jp/java-rules/ids00-j.html&quot;&gt;https://www.jpcert.or.jp/java-rules/ids00-j.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;äºˆã‚ã“ã†ã„ã†ãƒ†ãƒ¼ãƒ–ãƒ«ã‚’ä½œã£ã¦ãŠãã€‚&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;postgres&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;injection_test&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;SERIAL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_name&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;TEXT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;password&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;TEXT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;CREATE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;TABLE&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;é©å½“ã«ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’è¿½åŠ ã€‚ æœ¬æ¥ã¯ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’å¹³æ–‡ã§ä¿å­˜ã™ã‚‹ã“ã¨ã¯ãªã„ãŒãƒ†ã‚¹ãƒˆãªã®ã§ãã®è¾ºã‚Šã¯å‰²æ„›ã€‚&lt;/p&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;postgres&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=#&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;injection_test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
 &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_name&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;password&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;----+------------+------------&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ãƒ‰ãƒ©ãˆã‚‚ã‚“&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;doradora&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ã®ã³å¤ª&lt;/span&gt;     &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nobinobi&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ã‚¹ãƒå¤«&lt;/span&gt;     &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sunesune&lt;/span&gt;
  &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;ã—ãšã¡ã‚ƒã‚“&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;shizushizu&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;rows&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ã“ã†ã„ã†ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦â€¦&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'pg'&lt;/span&gt;

&lt;span class=&quot;no&quot;&gt;TABLE_NAME&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'injection_test'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PG&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;dbname: &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'postgres'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# æ–‡å­—åˆ—çµåˆã§ã‚¯ã‚¨ãƒªã‚’å®Ÿè¡Œã—ã¡ã‚ƒã£ã¦ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;validate_authorization_not_prepared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒä¸¡æ–¹ä¸€è‡´ã™ã‚‹ã‹ã‚’ç¢ºèª&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;SELECT * FROM &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;TABLE_NAME&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; WHERE user_name = '&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;' AND password = '&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;'&quot;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;cmd_tuples&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ãƒ­ã‚°ã‚¤ãƒ³ã«å¤±æ•—ã—ã¾ã—ãŸã€‚'&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;each&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ãƒ­ã‚°ã‚¤ãƒ³ã«æˆåŠŸã—ã¾ã—ãŸã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã€idã€‘&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'id'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;ã€user_nameã€‘&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'user_name'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;èªè¨¼ãƒã‚§ãƒƒã‚¯ã€‚&lt;/p&gt;

&lt;p&gt;å­˜åœ¨ã™ã‚‹ãƒ¦ãƒ¼ã‚¶ãƒ¼ã§ã‹ã¤ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚‚æ­£ã—ã‘ã‚Œã°ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’è¿”ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼åã‹ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®ã©ã¡ã‚‰ã‹ãŒä¸€è‡´ã—ãªã‘ã‚Œã°èªè¨¼ã«å¤±æ•—ã™ã‚‹ã€‚&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;validate_authorization_not_prepared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ãƒ‰ãƒ©ãˆã‚‚ã‚“'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'doradora'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; ãƒ­ã‚°ã‚¤ãƒ³ã«æˆåŠŸã—ã¾ã—ãŸã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã€idã€‘1ã€user_nameã€‘ãƒ‰ãƒ©ãˆã‚‚ã‚“&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;validate_authorization_not_prepared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ã®ã³å¤ª'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'nobinobi'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; ãƒ­ã‚°ã‚¤ãƒ³ã«æˆåŠŸã—ã¾ã—ãŸã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã€idã€‘2ã€user_nameã€‘ã®ã³å¤ª&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;validate_authorization_not_prepared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ã‚¸ãƒ£ã‚¤ã‚¢ãƒ³'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'doradora'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; ãƒ­ã‚°ã‚¤ãƒ³ã«å¤±æ•—ã—ã¾ã—ãŸã€‚&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;validate_authorization_not_prepared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ãƒ‰ãƒ©ãˆã‚‚ã‚“'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'jaijai'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; ãƒ­ã‚°ã‚¤ãƒ³ã«å¤±æ•—ã—ã¾ã—ãŸã€‚&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ã“ã®æ®µéšã§ã¯æ„å›³ã—ãŸæŒ™å‹•ãŒã§ãã¦ã„ã‚‹ã€‚&lt;/p&gt;

&lt;p&gt;æ¬¡ã«&lt;a href=&quot;http://d.hatena.ne.jp/keyword/SQL%A5%A4%A5%F3%A5%B8%A5%A7%A5%AF%A5%B7%A5%E7%A5%F3&quot;&gt;SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³&lt;/a&gt;ã‚’å®Ÿè¡Œã—ã¦ã¿ã‚‹ã€‚&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;validate_authorization_not_prepared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;%q[ãƒ‰ãƒ©ãˆã‚‚ã‚“' OR '1'='1]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ã©ã†ã›èªè¨¼é€šã‚‹ã‹ã‚‰ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãªã‚“ã§ã‚‚ã„ã„ã‚ˆã­'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; ãƒ­ã‚°ã‚¤ãƒ³ã«æˆåŠŸã—ã¾ã—ãŸã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã€idã€‘1ã€user_nameã€‘ãƒ‰ãƒ©ãˆã‚‚ã‚“&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;validate_authorization_not_prepared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;%q[ã®ã³å¤ª' OR '1'='1]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ã»ã‚“ã¨ã¯ã‚¸ãƒ£ã‚¤ã‚¢ãƒ³ã§ã™'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; ãƒ­ã‚°ã‚¤ãƒ³ã«æˆåŠŸã—ã¾ã—ãŸã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã€idã€‘2ã€user_nameã€‘ã®ã³å¤ª&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;èªè¨¼é€šã£ã¡ã‚ƒã£ãŸã€œï¼&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;å®Ÿåœ¨ã™ã‚‹æ­£è¦ã®ãƒ¦ãƒ¼ã‚¶åã§ã‚ã‚Œã°ã€ã“ã® SELECT æ–‡ã¯ validuser ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã‚’ãƒ†ãƒ¼ãƒ–ãƒ«ã‹ã‚‰é¸æŠã™ã‚‹ã€‚username=â€™validuserâ€™ ã®è©•ä¾¡ã¯çœŸã¨ãªã‚‹ã®ã§ã€ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã¯ãƒã‚§ãƒƒã‚¯ã•ã‚Œãªã„ã€‚ã¤ã¾ã‚Š OR ä»¥é™ã®éƒ¨åˆ†ã¯è©•ä¾¡ã•ã‚Œãªã„ã¨ã„ã†ã“ã¨ã§ã‚ã‚‹ã€‚OR ä»¥é™ã®éƒ¨åˆ†ãŒ &lt;a href=&quot;http://d.hatena.ne.jp/keyword/SQL&quot;&gt;SQL&lt;/a&gt; è¨€èªã®å¼ã¨ã—ã¦æ–‡æ³•çš„ã«æ­£ã—ã‘ã‚Œã°ã€æ”»æ’ƒè€…ã¯ validuser ã®ãƒ¬ã‚³ãƒ¼ãƒ‰ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’è¨±å¯ã•ã‚Œã‚‹ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;æœ€æ‚ªãªã®ãŒã“ã®æ”»æ’ƒã€‚&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;validate_authorization_not_prepared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ã‚¸ãƒ£ã‚¤ã‚¢ãƒ³'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;%q[' OR '1'='1]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; ãƒ­ã‚°ã‚¤ãƒ³ã«æˆåŠŸã—ã¾ã—ãŸã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã€idã€‘1ã€user_nameã€‘ãƒ‰ãƒ©ãˆã‚‚ã‚“&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; ãƒ­ã‚°ã‚¤ãƒ³ã«æˆåŠŸã—ã¾ã—ãŸã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã€idã€‘2ã€user_nameã€‘ã®ã³å¤ª&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; ãƒ­ã‚°ã‚¤ãƒ³ã«æˆåŠŸã—ã¾ã—ãŸã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã€idã€‘3ã€user_nameã€‘ã‚¹ãƒå¤«&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; ãƒ­ã‚°ã‚¤ãƒ³ã«æˆåŠŸã—ã¾ã—ãŸã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã€idã€‘4ã€user_nameã€‘ã—ãšã¡ã‚ƒã‚“&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ãªã‚“ã¨å…¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æƒ…å ±ãŒå–ã‚Œã‚‹ã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;â€˜1â€™=â€™1â€™ ã¯å¸¸ã«çœŸãªã®ã§ã€ã“ã®ã‚¯ã‚¨ãƒªã‹ã‚‰ã¯ãƒ†ãƒ¼ãƒ–ãƒ«ä¸­ã®ã™ã¹ã¦ã®è¡ŒãŒå‡ºåŠ›ã•ã‚Œã‚‹ã€‚ãƒ¦ãƒ¼ã‚¶åã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®æ¤œæŸ»ã¯è¡Œã‚ã‚Œãšã€æ”»æ’ƒè€…ã¯æ­£ã—ã„ãƒ¦ãƒ¼ã‚¶IDã‚„ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã‚’çŸ¥ã‚‰ãªãã¦ã‚‚ãƒ­ã‚°ã‚¤ãƒ³ã§ãã¦ã—ã¾ã†ã€‚&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ãªã®ã§ã‚¯ã‚¨ãƒªã‚’æ–‡å­—åˆ—çµåˆã§å®Ÿè¡Œã§ãã‚‹ã‚ˆã†ã«ã¡ã‚ƒã†ã¨&lt;a href=&quot;http://d.hatena.ne.jp/keyword/SQL%A5%A4%A5%F3%A5%B8%A5%A7%A5%AF%A5%B7%A5%E7%A5%F3&quot;&gt;SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³&lt;/a&gt;ãŒç°¡å˜ã«è¡Œãˆã¦ã—ã¾ã†ã“ã¨ãŒåˆ†ã‹ã£ãŸã€‚&lt;/p&gt;

&lt;p&gt;æ¬¡ã« prepared statement ã‚’åˆ©ç”¨ã—ãŸèªè¨¼æ–¹å¼ã€‚&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# prepared statement&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;validate_authorization_prepared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;SELECT * FROM &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;TABLE_NAME&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; WHERE user_name = $1 AND password = $2&quot;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'validate_authorization'&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;delete_if_exist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;prepare&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;exec_prepared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;user_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;cmd_tuples&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
    &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ãƒ­ã‚°ã‚¤ãƒ³ã«å¤±æ•—ã—ã¾ã—ãŸã€‚'&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;each&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;puts&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ãƒ­ã‚°ã‚¤ãƒ³ã«æˆåŠŸã—ã¾ã—ãŸã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã€idã€‘&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'id'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;ã€user_nameã€‘&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'user_name'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;prepare_exist?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;tuple&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;SELECT * FROM pg_prepared_statements WHERE name='&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;'&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;cmd_tuples&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;tuple&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;positive?&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;delete_if_exist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;DEALLOCATE &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;prepare_exist?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;validate_authorization_prepared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ãƒ‰ãƒ©ãˆã‚‚ã‚“'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'doradora'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; ãƒ­ã‚°ã‚¤ãƒ³ã«æˆåŠŸã—ã¾ã—ãŸã€‚ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã€idã€‘1ã€user_nameã€‘ãƒ‰ãƒ©ãˆã‚‚ã‚“&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;validate_authorization_prepared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ã‚¸ãƒ£ã‚¤ã‚¢ãƒ³'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'jaijai'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; ãƒ­ã‚°ã‚¤ãƒ³ã«å¤±æ•—ã—ã¾ã—ãŸã€‚&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;validate_authorization_prepared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;%q[ãƒ‰ãƒ©ãˆã‚‚ã‚“' OR '1'='1]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'hoge'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; ãƒ­ã‚°ã‚¤ãƒ³ã«å¤±æ•—ã—ã¾ã—ãŸã€‚&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;validate_authorization_prepared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ã‚¸ãƒ£ã‚¤ã‚¢ãƒ³'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sx&quot;&gt;%q[' OR '1'='1]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# =&amp;gt; ãƒ­ã‚°ã‚¤ãƒ³ã«å¤±æ•—ã—ã¾ã—ãŸã€‚&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ã¡ã‚ƒã‚“ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼åã¨ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãŒä¸€è‡´ã™ã‚‹å ´åˆã®ã¿èªè¨¼ã‚’é€šã›ã¦ã„ã‚‹ã“ã¨ãŒåˆ†ã‹ã‚‹ã€‚&lt;/p&gt;

&lt;p&gt;ã¨ã„ã†ã‚ã‘ã§ä¸Šè¨˜ã‚’è¸ã¾ãˆãŸã€&lt;a href=&quot;http://d.hatena.ne.jp/keyword/ruby&quot;&gt;ruby&lt;/a&gt;-pg ã§ã®ã‚»ã‚­ãƒ¥ã‚¢ãª &lt;a href=&quot;http://d.hatena.ne.jp/keyword/CRUD&quot;&gt;CRUD&lt;/a&gt; ã¯ä»¥ä¸‹ã®ã‚ˆã†ã«ãªã‚‹ã€‚&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;CrudController&lt;/span&gt;
  &lt;span class=&quot;no&quot;&gt;DB_NAME&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ä»»æ„ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å'&lt;/span&gt;
  &lt;span class=&quot;no&quot;&gt;TABLE_NAME&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'ä»»æ„ã®ãƒ†ãƒ¼ãƒ–ãƒ«å'&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;initialize&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@connection&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PG&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;dbname: &lt;/span&gt;&lt;span class=&quot;no&quot;&gt;DB_NAME&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;create_table&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;unless&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;table_exist?&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;read_all_note&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;read_all_query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;SELECT * FROM &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;TABLE_NAME&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'read_all_note'&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;delete_if_exist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;prepare&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;read_all_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;results&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;exec_prepared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;map&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;sort_by&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;values_at&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'id'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;reverse&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;read_note&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;read_note_query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;SELECT * FROM &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;TABLE_NAME&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; WHERE id = $1&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'read_note'&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;delete_if_exist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;prepare&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;read_note_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;exec_prepared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;create_note&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;create_note_query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;INSERT INTO &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;TABLE_NAME&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; (title, body) VALUES ($1, $2) RETURNING id&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'create_note'&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;delete_if_exist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;prepare&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;create_note_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;exec_prepared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'id'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;update_note&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;update_note_query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;UPDATE &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;TABLE_NAME&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; SET (title, body) = ($2, $3) WHERE id = $1&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'update_note'&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;delete_if_exist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;prepare&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;update_note_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;exec_prepared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;delete_note&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;delete_note_query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;DELETE FROM &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;TABLE_NAME&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; WHERE id = $1&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'delete_note'&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;delete_if_exist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;prepare&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;delete_note_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;exec_prepared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;id_exist?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/^[0-9]+$/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;match?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;exist_id_query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;SELECT * FROM &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;TABLE_NAME&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; WHERE id = $1&quot;&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'id_exist'&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;delete_if_exist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;vi&quot;&gt;@connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;prepare&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;exist_id_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;vi&quot;&gt;@connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;exec_prepared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]).&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;cmd_tuples&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt;
      &lt;span class=&quot;kp&quot;&gt;false&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;kp&quot;&gt;private&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;prepare_exist?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;tuple&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;vi&quot;&gt;@connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;SELECT * FROM pg_prepared_statements WHERE name='&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;'&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;cmd_tuples&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;tuple&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;positive?&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;delete_if_exist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;DEALLOCATE &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;prepare_exist?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;table_exist?&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;exist_table_query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;SELECT table_name FROM information_schema.tables WHERE table_name = '&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;TABLE_NAME&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;'&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'table_exist'&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;delete_if_exist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;prepare&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;exist_table_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;exec_prepared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;cmd_tuples&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;create_table&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;create_table_query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;CREATE TABLE &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;TABLE_NAME&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; (id SERIAL, title TEXT NOT NULL, body TEXT)&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'create_table'&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;delete_if_exist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;prepare&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;create_table_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;exec_prepared&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prepare_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;</content><author><name>otomi</name></author><category term="blog" /><summary type="html">å‰å›ã®è¨˜äº‹ã§ ruby-pg ã‹ã‚‰ CRUD ã™ã‚‹ãŸã‚ã®æ–¹æ³•ã‚’æ›¸ã„ãŸãŒã€å¼•æ•°ã§ãƒ¡ãƒ¢ã®å†…å®¹ã‚’å—ã‘å–ã£ã¦ãã‚Œã‚’ã‚¯ã‚¨ãƒªæ–‡å­—åˆ—ã«çµåˆã—ã¦ã„ãŸã®ã§SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã®å±é™ºæ€§ãŒã‚ã£ãŸã€‚ ãã®ãŸã‚ prepared statement ã‚’åˆ©ç”¨ã™ã‚‹ã‚ˆã†ã«å¤‰æ›´ã—ãŸã€‚</summary></entry><entry><title type="html">Sinatra ã§ Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã£ãŸéš›ã®æ°—ä»˜ã</title><link href="http://localhost:4000/created-web-application/" rel="alternate" type="text/html" title="Sinatra ã§ Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã£ãŸéš›ã®æ°—ä»˜ã" /><published>2021-01-23T00:00:00+09:00</published><updated>2021-01-23T00:00:00+09:00</updated><id>http://localhost:4000/created-web-application</id><content type="html" xml:base="http://localhost:4000/created-web-application/">&lt;p&gt;&lt;a href=&quot;https://akkkky.hatenablog.jp/entry/2021/01/16/234329&quot;&gt;Sinatra ã§ Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã£ãŸ - tmp/log&lt;/a&gt; ã®ç¶šãã€‚ ãƒ¬ãƒ“ãƒ¥ãƒ¼ã„ãŸã ã„ãŸç‚¹ã‚’ä¿®æ­£ã—ã¦ã®æ°—ä»˜ããªã©ã€‚&lt;/p&gt;

&lt;!-- more --&gt;

&lt;p&gt;ãƒ¬ãƒ“ãƒ¥ãƒ¼ã„ãŸã ã„ãŸç‚¹ã«ã¤ã„ã¦ä¿®æ­£ã«ã‚ãŸã£ã¦ä»¥ä¸‹ã®å­¦ã³ãŒã‚ã£ãŸã€‚&lt;/p&gt;

&lt;h2 id=&quot;html-ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã—ãŸã¨ãã«è¡¨ç¤ºãŒå´©ã‚Œã‚‹&quot;&gt;HTML ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã—ãŸã¨ãã«è¡¨ç¤ºãŒå´©ã‚Œã‚‹&lt;/h2&gt;

&lt;p&gt;ã“ã‚Œã¯å½“åˆã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã«åˆ©ç”¨ã—ã¦ã„ã‚‹ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;Rack::Utils.escape_html&lt;/code&gt; å´ã®å‡ºåŠ›ã«åŸå› ãŒã‚ã‚‹ã¨è€ƒãˆã¦ã„ãŸã€‚ãã“ã§ã©ã‚“ãªå‡¦ç†ã‚’ã—ã¦ã„ã‚‹ã®ã‹ã‚½ãƒ¼ã‚¹ã‚’è¦‹ã«è¡Œã£ãŸã‚‰ã€ã‚·ãƒ³ãƒ—ãƒ«ã«è¨˜å·ã‚’ç½®æ›ã—ã¦ã„ã‚‹ã‚‚ã®ã§ã‚ã£ãŸã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/rack/rack/blob/a05f8d56f9ac4da14dddb8f312a3b43644f73397/lib/rack/utils.rb#L158&quot;&gt;https://github.com/rack/rack/blob/a05f8d56f9ac4da14dddb8f312a3b43644f73397/lib/rack/utils.rb#L158&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;å®Ÿéš›ã®ã‚³ãƒ¼ãƒ‰&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;no&quot;&gt;ESCAPE_HTML&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&quot;&amp;amp;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&amp;amp;amp;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&amp;amp;lt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&quot;&amp;gt;&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&amp;amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&quot;'&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&amp;amp;#x27;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s1&quot;&gt;'&quot;'&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&amp;amp;quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;s2&quot;&gt;&quot;/&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&amp;amp;#x2F;&quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;no&quot;&gt;ESCAPE_HTML_PATTERN&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Regexp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;union&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;ESCAPE_HTML&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Escape ampersands, brackets and quotes to their HTML/XML entities.&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;escape_html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;to_s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;gsub&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;ESCAPE_HTML_PATTERN&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;ESCAPE_HTML&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;ãªã®ã§å‡ºåŠ›ã•ã‚Œã‚‹æ–‡å­—åˆ—ãŒåŸå› ã§ã¯ãªã„ã¨ã„ã†ã“ã¨ã§ã‚‚ã†ã¡ã‚‡ã£ã¨è‡ªåˆ†ã®å®Ÿè£…ã‚’è¿½ã£ã¦ã„ãŸã‚‰ã€å˜ã«&lt;a href=&quot;http://d.hatena.ne.jp/keyword/%A5%A8%A5%B9&quot;&gt;ã‚¨ã‚¹&lt;/a&gt;ã‚±ãƒ¼ãƒ—ã—ãŸå ´åˆã«æ–‡å­—åˆ—ãŒé•·ããªã‚Šã™ãã€HTML ã®è¦ç´ ã‹ã‚‰ã¯ã¿å‡ºã¦ã—ã¾ã£ã¦ã„ã‚‹ã ã‘ã ã£ãŸâ€¦ã€‚&lt;/p&gt;

&lt;p&gt;ã‚¹ã‚¿ã‚¤ãƒ«ã§ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;overflow&lt;/code&gt; ã‚’é©åˆ‡ã«è¨­å®šã—ã¦ã„ãªã‹ã£ãŸã“ã¨ãŒåŸå› ã€‚å¹¸ã„15åˆ†ãã‚‰ã„ã§åŸå› ã«æ€ã„å½“ãŸã£ãŸã®ã§è‰¯ã‹ã£ãŸã€‚åŸå› ãŒ &lt;a href=&quot;http://d.hatena.ne.jp/keyword/Ruby&quot;&gt;Ruby&lt;/a&gt; ã®ã‚³ãƒ¼ãƒ‰å´ã«ã‚ã‚‹ã¨æ€ã„ã“ã‚“ã§ã„ãŸã‚‰ãƒ‰ãƒãƒãƒªã™ã‚‹ã¨ã“ã‚ã ã£ãŸâ€¦ã€‚&lt;/p&gt;

&lt;h2 id=&quot;è¡¨ç¤ºã«é–¢ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã¯ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã«è©²å½“ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ã‹ãªã„&quot;&gt;è¡¨ç¤ºã«é–¢ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã¯ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã«è©²å½“ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ã‹ãªã„&lt;/h2&gt;

&lt;p&gt;ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼ã«è©²å½“ã™ã‚‹å‡¦ç†ã‚’æ›¸ã„ã¦ã„ãŸãƒ•ã‚¡ã‚¤ãƒ«å†…ã§ã€ä¸€ç·’ã« HTML ã‚¿ã‚°ã‚’æ“ä½œã—ã¦ã„ãŸã€‚ View ã¨ Model ã§æ‹…å½“ã‚’åˆ†æ‹…ã™ã‚‹ãŸã‚æ›¸ãå ´æ‰€ã¯åˆ†ã‘ãŸæ–¹ãŒè‰¯ã„ã€‚&lt;a href=&quot;http://d.hatena.ne.jp/keyword/MVC&quot;&gt;MVC&lt;/a&gt; ãƒ¢ãƒ‡ãƒ«ã‚’æ„è­˜ã—ãŸå®Ÿè£…ã‚’ã™ã‚‹ã€‚&lt;/p&gt;

&lt;h2 id=&quot;readme-ã«-ruby-ã®æ¨å¥¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’è‡ªç„¶è¨€èªã§æ›¸ã„ã¦ã„ãŸ&quot;&gt;README ã« &lt;a href=&quot;http://d.hatena.ne.jp/keyword/Ruby&quot;&gt;Ruby&lt;/a&gt; ã®æ¨å¥¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’&lt;a href=&quot;http://d.hatena.ne.jp/keyword/%BC%AB%C1%B3%B8%C0%B8%EC&quot;&gt;è‡ªç„¶è¨€èª&lt;/a&gt;ã§æ›¸ã„ã¦ã„ãŸ&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;.ruby-version&lt;/code&gt; ã‚’ã‚³ãƒŸãƒƒãƒˆã—ã¦ãŠãã¨ã‚ˆã„ã€‚ ç¢ºã‹ã«æ¨å¥¨ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æ›¸ã„ã¦åˆ©ç”¨è€…ã«äººåŠ›ã§ãƒãƒ¼ã‚¸ãƒ§ãƒ³æŒ‡å®šã—ã¦ã‚‚ã‚‰ã†ã‚ˆã‚Š rbenv ã«ã‚„ã£ã¦ã‚‚ã‚‰ã£ãŸæ–¹ãŒå…¨ç„¶ã„ã„â€¦ï¼&lt;/p&gt;</content><author><name>otomi</name></author><category term="blog" /><summary type="html">Sinatra ã§ Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã£ãŸ - tmp/log ã®ç¶šãã€‚ ãƒ¬ãƒ“ãƒ¥ãƒ¼ã„ãŸã ã„ãŸç‚¹ã‚’ä¿®æ­£ã—ã¦ã®æ°—ä»˜ããªã©ã€‚</summary></entry><entry><title type="html">ruby-pg ã§ CRUD ã™ã‚‹</title><link href="http://localhost:4000/crud-with-ruby-pg/" rel="alternate" type="text/html" title="ruby-pg ã§ CRUD ã™ã‚‹" /><published>2021-01-20T00:00:00+09:00</published><updated>2021-01-20T00:00:00+09:00</updated><id>http://localhost:4000/crud-with-ruby-pg</id><content type="html" xml:base="http://localhost:4000/crud-with-ruby-pg/">&lt;p&gt;&lt;a href=&quot;http://localhost:4000/trying-to-touch-ruby-pg/&quot;&gt;ruby-pg ã‚’è§¦ã£ã¦ã¿ã‚‹&lt;/a&gt;ã®ç¶šãã€‚&lt;/p&gt;

&lt;!-- more --&gt;

&lt;p&gt;&lt;a href=&quot;http://localhost:4000/trying-to-touch-ruby-pg/&quot;&gt;ruby-pg ã‚’è§¦ã£ã¦ã¿ã‚‹&lt;/a&gt;ã®è¨˜äº‹ã§ä»¥ä¸‹ã®ã‚ˆã†ã«æ›¸ã„ã¦ã„ãŸãŒã€ã“ã‚Œã¯ä»Šå›ã®ã‚„ã‚ŠãŸã„ã“ã¨ã®ã‚¹ã‚³ãƒ¼ãƒ—ã‹ã‚‰å¤–ã‚Œã‚‹ã®ã§ã‚„ã‚‰ãªã„ã€‚ äºˆã‚ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;sinatra_db&lt;/code&gt; ã¨ã„ã†ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒå­˜åœ¨ã™ã‚‹ã“ã¨å‰æã€‚&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Tableã§ããŸã€‚ãŒã€ã“ã‚Œã£ã¦postgresã£ã¦ã„ã†ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ãŒäºˆã‚åˆ†ã‹ã£ã¦ã„ã‚‹ã®ã§ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ã‚’å¼µã‚Œã¦ã„ã‚‹ãŒã€è‡ªä½œã®&lt;a href=&quot;http://d.hatena.ne.jp/keyword/Sinatra&quot;&gt;Sinatra&lt;/a&gt;ã®Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’cloneã—ã¦ã‚‚ã‚‰ã£ã¦ä»–ã®äººã®ãƒ‘ã‚½ã‚³ãƒ³ä¸Šã§å‹•ã‹ã™ã¨ãã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åã©ã†ã‚„ã£ã¦æ±ºã‚ã‚Œã°ã„ã„ã®ã ã‚ã†ã‹ï¼Ÿ&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;ã¨ã‚Šã‚ãˆãš CRUD ãŒã§ãã‚‹ã‹ã®æœ€å°é™ã®ã‚³ãƒ¼ãƒ‰ã‚’æ›¸ã„ã¦ã¿ã‚‹ã€‚&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;ã“ã®ã‚³ãƒ¼ãƒ‰ã¯&lt;a href=&quot;http://d.hatena.ne.jp/keyword/SQL%A5%A4%A5%F3%A5%B8%A5%A7%A5%AF%A5%B7%A5%E7%A5%F3&quot;&gt;SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³&lt;/a&gt;ãŒå®Ÿè¡Œå¯èƒ½ãªã®ã§ã€å¿…ãšå€‹äººç’°å¢ƒã§ãƒ†ã‚¹ãƒˆã™ã‚‹ã ã‘ã«ç•™ã‚ã¦ãã ã•ã„ã€‚&lt;br /&gt;
çµ¶å¯¾ã«å€‹äººæƒ…å ±ã‚’æ‰±ã£ã¦ã„ã‚‹ã‚ˆã†ãªç’°å¢ƒã«å®Ÿè£…ã™ã‚‹ã‚ˆã†ãªã“ã¨ã¯ã—ãªã„ã§ãã ã•ã„ã€‚&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;ä»¥ä¸‹ã®è¨˜äº‹ã«&lt;a href=&quot;http://d.hatena.ne.jp/keyword/SQL%A5%A4%A5%F3%A5%B8%A5%A7%A5%AF%A5%B7%A5%E7%A5%F3&quot;&gt;SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³&lt;/a&gt;ã‚’å›é¿ã§ãã‚‹ã‚³ãƒ¼ãƒ‰ã‚’è¼‰ã›ã¦ã„ã‚‹ã®ã§ã“ã¡ã‚‰ã‚‚å‚ç…§ãã ã•ã„ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://localhost:4000/avoiding-sql-Injection/&quot;&gt;prepared statement ã‚’åˆ©ç”¨ã—ã¦SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã‚’å›é¿ã™ã‚‹&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ğŸ‘‡ CRUD ãŒã§ãã‚‹ã‹ã®æœ€å°é™ã®ã‚³ãƒ¼ãƒ‰&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'pg'&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# sinatra_db ã¨ã„ã† DB ã¯äºˆã‚ä½œæˆã—ã¦ãŠã&lt;/span&gt;

&lt;span class=&quot;no&quot;&gt;DB_NAME&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'sinatra_db'&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;TABLE_NAME&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'sinatra_table'&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ä½œæˆ &lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PG&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;dbname: &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;DB_NAME&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# table ãŒå­˜åœ¨ã™ã‚‹ã‹ç¢ºèª&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;table_exist?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;exist_table_query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;SELECT table_name FROM information_schema.tables WHERE table_name = '&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;TABLE_NAME&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;'&quot;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;exist_table_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;cmd_status&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'SELECT 1'&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;false&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# table ä½œæˆ&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;create_table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;create_table_query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;CREATE TABLE &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;TABLE_NAME&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; (id SERIAL, title TEXT NOT NULL, body TEXT)&quot;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;create_table_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# ãƒ¡ãƒ¢ã®æ–°è¦ä½œæˆ RETURNING id ã§è¿½åŠ ã—ãŸ id ã‚’è¿”ã™&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;create_note&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;create_note_query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;INSERT INTO &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;TABLE_NAME&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; (title, body) VALUES ('&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;', '&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;') RETURNING id&quot;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;create_note_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'id'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# ãƒ¡ãƒ¢ã®ç·¨é›†&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;update_note&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;update_note_query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;UPDATE &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;TABLE_NAME&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; SET (title, body) = ('&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;', '&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;') WHERE id = &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;update_note_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# ãƒ¡ãƒ¢ã®å‰Šé™¤&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;delete_note&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;delete_note_query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;DELETE FROM &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;TABLE_NAME&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt; WHERE id = &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;#{&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;delete_note_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;http://d.hatena.ne.jp/keyword/CRUD&quot;&gt;CRUD&lt;/a&gt; ã®å„ãƒ¡ã‚½ãƒƒãƒ‰è‡ªä½“ã¯ã‚¯ã‚¨ãƒªã‚’ãã®ã¾ã¾æ›¸ãã‚ˆã†ãªã‚‚ã®ã ã£ãŸã®ã§å‰²ã¨ã™ãå®Ÿè£…ã§ããŸãŒã€table ãŒå­˜åœ¨ã—ãªã„å ´åˆã«è¿½åŠ ã™ã‚‹ãŸã‚ã®å­˜åœ¨ç¢ºèªãƒ¡ã‚½ãƒƒãƒ‰ã‚’ä½œæˆã—ãŸãŒã€table ã®å­˜åœ¨ç¢ºèªã‚’ã©ã®ã‚ˆã†ã«å®Ÿè£…ã™ã‚‹ã‹ã«æ™‚é–“ãŒã‹ã‹ã£ãŸã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://d.hatena.ne.jp/keyword/PostgreSQL&quot;&gt;PostgreSQL&lt;/a&gt; ã‚„ &lt;a href=&quot;http://d.hatena.ne.jp/keyword/ruby&quot;&gt;ruby&lt;/a&gt;-pg ã«ã¯å¼•æ•°ã§ table åã‚’å—ã‘å–ã£ã¦ boolean ã§å­˜åœ¨æœ‰ç„¡ã‚’è¿”ã™ã‚ˆã†ãªãƒ¡ã‚½ãƒƒãƒ‰ãŒç„¡ã„ã£ã½ã‹ã£ãŸã®ã§ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;information_schema.tables&lt;/code&gt; ã‚’ä½¿ã£ãŸãŒã€ã‚‚ã£ã¨ã‚¹ãƒãƒ¼ãƒˆã«æ›¸ã‘ã‚‹ã®ã‹ãªãƒ¼ã€‚ table ã®å­˜åœ¨ç¢ºèªã¯ã‚°ã‚°ã£ã¦ã‚‚æ§˜ã€…ãªã‚„ã‚Šæ–¹ãŒå‡ºã¦ãã‚‹ã—ã€è‰²ã€…ãªæ–¹æ³•ã§ç¢ºèªã§ãã‚‹ã®ã ã‚ã†ã€‚&lt;/p&gt;</content><author><name>otomi</name></author><category term="blog" /><summary type="html">ruby-pg ã‚’è§¦ã£ã¦ã¿ã‚‹ã®ç¶šãã€‚</summary></entry><entry><title type="html">ruby-pg ã‚’è§¦ã£ã¦ã¿ã‚‹</title><link href="http://localhost:4000/trying-to-touch-ruby-pg/" rel="alternate" type="text/html" title="ruby-pg ã‚’è§¦ã£ã¦ã¿ã‚‹" /><published>2021-01-18T00:00:00+09:00</published><updated>2021-01-18T00:00:00+09:00</updated><id>http://localhost:4000/trying-to-touch-ruby-pg</id><content type="html" xml:base="http://localhost:4000/trying-to-touch-ruby-pg/">&lt;p&gt;&lt;a href=&quot;http://d.hatena.ne.jp/keyword/Sinatra&quot;&gt;Sinatra&lt;/a&gt;ã‚¢ãƒ—ãƒªã§ã®ãƒ‡ãƒ¼ã‚¿ä¿å­˜å…ˆã‚’ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«å¤‰ãˆã‚‹ãŸã‚ã€&lt;a href=&quot;https://github.com/ged/ruby-pg&quot;&gt;ruby-pg&lt;/a&gt;ã‚’è§¦ã£ã¦ã¿ã‚‹ã€‚ ç°¡å˜ãª Ruby ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ›¸ã„ã¦ã€Œæ›¸ãè¾¼ã¿ã€ã€Œèª­ã¿å–ã‚Šã€ã€Œç·¨é›†ã€ã€Œå‰Šé™¤ã€ã®ä¸€é€£ã®æ“ä½œãŒã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚&lt;/p&gt;

&lt;!-- more --&gt;

&lt;p&gt;ã¾ãšã¯Tableã®ä½œæˆã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Rubyå´&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'pg'&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;PG&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;dbname: &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'postgres'&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;connection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'CREATE TABLE sinatra_table (id INTEGER PRIMARY KEY, title TEXT NOT NULL, body TEXT)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;PostgreSQLå´&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-sql highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ruby&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rb&lt;/span&gt; 
&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;psql&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;U&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aksk&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;postgres&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;psql&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;Type&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&quot;help&quot;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;help&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;postgres&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=#&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;
           &lt;span class=&quot;n&quot;&gt;List&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;relations&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;Schema&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Name&lt;/span&gt;      &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;Type&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;Owner&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;--------+---------------+-------+-------&lt;/span&gt;
 &lt;span class=&quot;k&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sinatra_table&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aksk&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;row&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;postgres&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=#&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Tableã§ããŸã€‚ãŒã€ã“ã‚Œã£ã¦&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;postgres&lt;/code&gt;ã£ã¦ã„ã†ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒå­˜åœ¨ã™ã‚‹ã“ã¨ãŒäºˆã‚åˆ†ã‹ã£ã¦ã„ã‚‹ã®ã§ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³ã‚’å¼µã‚Œã¦ã„ã‚‹ãŒã€è‡ªä½œã®&lt;a href=&quot;http://d.hatena.ne.jp/keyword/Sinatra&quot;&gt;Sinatra&lt;/a&gt;ã®Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’cloneã—ã¦ã‚‚ã‚‰ã£ã¦ä»–ã®äººã®ãƒ‘ã‚½ã‚³ãƒ³ä¸Šã§å‹•ã‹ã™ã¨ãã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åã©ã†ã‚„ã£ã¦æ±ºã‚ã‚Œã°ã„ã„ã®ã ã‚ã†ã‹ï¼Ÿ&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;PG::Connection.new(host, port, options, tty, dbname, user, password)&lt;/code&gt; ã“ã‚Œã§ä»»æ„ã®ãƒ›ã‚¹ãƒˆã¸æ¥ç¶šã§ãã‚‹ã®ã§ã€è‡ªåˆ†ãŒå¥‘ç´„ã—ã¦ã„ã‚‹&lt;a href=&quot;http://d.hatena.ne.jp/keyword/VPN&quot;&gt;VPN&lt;/a&gt;ã¸ã‚³ãƒã‚¯ã‚·ãƒ§ãƒ³å¼µã‚Œã°èª°ã®ãƒ‘ã‚½ã‚³ãƒ³ä¸Šã§ã‚‚äºˆã‚ã‚ã‹ã£ã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹åã§æ¥ç¶šã§ãã‚‹ã‘ã©ã€ãã†ã„ã†ã“ã¨ã˜ã‚ƒãªã„ã‚ˆãªã€œâ€¦ã€‚&lt;/p&gt;</content><author><name>otomi</name></author><category term="blog" /><summary type="html">Sinatraã‚¢ãƒ—ãƒªã§ã®ãƒ‡ãƒ¼ã‚¿ä¿å­˜å…ˆã‚’ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«å¤‰ãˆã‚‹ãŸã‚ã€ruby-pgã‚’è§¦ã£ã¦ã¿ã‚‹ã€‚ ç°¡å˜ãª Ruby ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’æ›¸ã„ã¦ã€Œæ›¸ãè¾¼ã¿ã€ã€Œèª­ã¿å–ã‚Šã€ã€Œç·¨é›†ã€ã€Œå‰Šé™¤ã€ã®ä¸€é€£ã®æ“ä½œãŒã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ã€‚</summary></entry><entry><title type="html">Sinatra ã§ Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã£ãŸ</title><link href="http://localhost:4000/built-web-application-with-sinatra/" rel="alternate" type="text/html" title="Sinatra ã§ Webã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä½œã£ãŸ" /><published>2021-01-16T00:00:00+09:00</published><updated>2021-01-16T00:00:00+09:00</updated><id>http://localhost:4000/built-web-application-with-sinatra</id><content type="html" xml:base="http://localhost:4000/built-web-application-with-sinatra/">&lt;p&gt;1å¹´ä»¥ä¸Šã¶ã‚Šã®è¨˜äº‹ã§ã™ã­ã€‚&lt;/p&gt;

&lt;p&gt;å»å¹´ã®12æœˆã‹ã‚‰&lt;a href=&quot;https://bootcamp.fjord.jp&quot;&gt;ãƒ•ã‚£ãƒ¨ãƒ«ãƒ‰ãƒ–ãƒ¼ãƒˆã‚­ãƒ£ãƒ³ãƒ—&lt;/a&gt;ã«é€šã£ã¦ãŠã‚Šã€ã‚‚ã†1å¹´ä»¥ä¸ŠçµŒã¡ã¾ã™ã€‚ é€”ä¸­åŠå¹´ä»¥ä¸Šå…¨ç„¶ãƒ—&lt;a href=&quot;http://d.hatena.ne.jp/keyword/%A5%E9%A5%AF&quot;&gt;ãƒ©ã‚¯&lt;/a&gt;ãƒ†ã‚£ã‚¹ã‚’ã‚„ã£ã¦ã„ãªã„ã«ç­‰ã—ã„ã‚ˆã†ãªæ™‚æœŸãŒã‚ã£ãŸã®ã§ã™ãŒã€ã“ã“2ãƒ¶æœˆãã‚‰ã„ã¯ãªã‚“ã¨ã‹å‹‰å¼·ãŒç¿’æ…£åŒ–ã—ã¦ããŸã‚ˆã†ã§é€£æ—¥ã®ã‚ˆã†ã«ãƒ—&lt;a href=&quot;http://d.hatena.ne.jp/keyword/%A5%E9%A5%AF&quot;&gt;ãƒ©ã‚¯&lt;/a&gt;ãƒ†ã‚£ã‚¹ã‚’é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¦ã„ã‚‹çŠ¶æ…‹ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://d.hatena.ne.jp/keyword/%A5%D5%A5%A3%A5%E8%A5%EB%A5%C9&quot;&gt;ãƒ•ã‚£ãƒ¨ãƒ«ãƒ‰&lt;/a&gt;ãƒ–ãƒ¼ãƒˆã‚­ãƒ£ãƒ³ãƒ—ã§ã¯ãƒ—&lt;a href=&quot;http://d.hatena.ne.jp/keyword/%A5%E9%A5%AF&quot;&gt;ãƒ©ã‚¯&lt;/a&gt;ãƒ†ã‚£ã‚¹ã‚’ã‚„ã£ãŸæ—¥ã¯å¿…ãšæ—¥å ±ã‚’æ›¸ãã‚ˆã†ã«ãªã£ã¦ãŠã‚Šã€åƒ•ã‚‚å¿…ãšæ›¸ã„ã¦ã„ã¾ã™ã€‚ ãã®æ—¥å ±ã‚’ãƒ–ãƒ­ã‚°ã«ã‚‚æ›¸ã„ã¦å‹‰å¼·ã®éç¨‹ã‚’å…¬é–‹ã—ã‚ˆã†ã—ã‚ˆã†ã¨æ€ã„ã¤ã¤ã‚„ã‚Œã¦ãŠã‚‰ãšã€ã¾ãŸéå»ã«ã•ã‹ã®ã¼ã£ã¦ãƒ–ãƒ­ã‚°æ›¸ãã®ã‚‚ã—ã‚“ã©ã„ã®ã§ä¸­é€”åŠç«¯ã§å”çªãªå§‹ã¾ã‚Šã§ã™ãŒä»Šæ—¥ã‹ã‚‰æœ¬æ°—å‡ºã™ã€‚&lt;/p&gt;

&lt;!-- more --&gt;

&lt;p&gt;ä½œã£ãŸã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¯ã“ã‚Œã€‚&lt;/p&gt;

&lt;iframe src=&quot;https://hatenablog-parts.com/embed?url=https%3A%2F%2Fgithub.com%2FAkkkky%2Ffrankly-note&quot; title=&quot;Akkkky/frankly-note&quot; class=&quot;embed-card embed-webcard&quot; scrolling=&quot;no&quot; frameborder=&quot;0&quot; style=&quot;display: block; width: 100%; height: 155px; max-width: 500px; margin: 10px 0px;&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;cite class=&quot;hatena-citation&quot;&gt;&lt;a href=&quot;https://github.com/Akkkky/frankly-note&quot;&gt;github.com&lt;/a&gt;&lt;/cite&gt;&lt;/p&gt;

&lt;h2 id=&quot;rest-ã®ãƒªã‚½ãƒ¼ã‚¹è¨­è¨ˆã¯æ€ã£ã¦ã„ã‚‹ã‚ˆã‚Šå…¨ç„¶é›£ã—ã„&quot;&gt;REST ã®ãƒªã‚½ãƒ¼ã‚¹è¨­è¨ˆã¯æ€ã£ã¦ã„ã‚‹ã‚ˆã‚Šå…¨ç„¶é›£ã—ã„&lt;/h2&gt;

&lt;p&gt;æå‡ºç‰©ã‚’ä½œæˆã—ãŸæ®µéšã§ã¯ã‚ã‚Šã¨ã‚¹ãƒ ãƒ¼ã‚ºã«é€²ã‚ã‚‰ã‚ŒãŸãªã€œã¨ã‹æ€ã£ã¦ã„ãŸãŒã€ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ã„ãŸã ãã¨è‰²ã€…è€ƒæ…®æ¼ã‚ŒãŒã‚ã‚‹ã“ã¨ãŒåˆ†ã‹ã£ã¦ããŸã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ãƒªã‚½ãƒ¼ã‚¹åã®å˜æ•°å½¢ã¨è¤‡æ•°å½¢ã‚’çµ±ä¸€ã™ã‚‹&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://d.hatena.ne.jp/keyword/URI&quot;&gt;URI&lt;/a&gt; ã®æ§‹é€ ã‚’çµ±ä¸€ã™ã‚‹&lt;/li&gt;
  &lt;li&gt;å®Ÿéš›ã«ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ãã® URL ã‚’è€ƒãˆã‚‹
    &lt;ul&gt;
      &lt;li&gt;ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã—ãŸã¨ãã«åˆ†ã‹ã‚Šã«ãã„ãƒªã‚½ãƒ¼ã‚¹è¡¨ç¾ã«ãªã£ã¦ã„ãªã„ã‹&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;å®Ÿéš›ã«ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã¨ãã«åŒºåˆ¥ã§ããªã„ URL ã«ãªã£ã¦ã„ãªã„ã‹
    &lt;ul&gt;
      &lt;li&gt;ç•°ãªã‚‹ãƒªã‚½ãƒ¼ã‚¹ã‚’åŒã˜ URL ã§è¡¨ç¾ã—ã‚ˆã†ã¨ã—ã¦ã„ãªã„ã‹&lt;/li&gt;
      &lt;li&gt;å®‰æ˜“ã« id ã ã‘ã§ãƒªã‚½ãƒ¼ã‚¹ã‚’åŒºåˆ¥ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰è¦‹ãŸã¨ãã«äººé–“ãŒåŒºåˆ¥ã§ããªã„&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;ds_store-ã«å›°ã‚‰ã›ã‚‰ã‚ŒãŸ&quot;&gt;.DS_Store ã«å›°ã‚‰ã›ã‚‰ã‚ŒãŸ&lt;/h2&gt;

&lt;p&gt;ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§ç®¡ç†ã›ãšã«ãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã™ã‚‹é–¢ä¿‚ã§ãƒ•ã‚¡ã‚¤ãƒ«æ“ä½œã‚’è¡Œã†ãŸã‚ã‹ã€ä»Šã¾ã§ã¯ç‰¹ã«æ°—ã«ã—ã¦ã„ãªã‹ã£ãŸ .DS_Store ãƒ•ã‚¡ã‚¤ãƒ«ãŒã„ã¤ã®é–“ã«ã‹ã§ãã¦ãŠã‚Šã€ã†ã£ã‹ã‚Šãƒªãƒ¢ãƒ¼&lt;a href=&quot;http://d.hatena.ne.jp/keyword/%A5%C8%A5%EA%A5%DD%A5%B8&quot;&gt;ãƒˆãƒªãƒã‚¸&lt;/a&gt;ãƒˆãƒªã¸è¿½åŠ ã—ã¦ã—ã¾ã†ã“ã¨ãŒã‚ã£ãŸã€‚&lt;/p&gt;

&lt;p&gt;ä»Šã¾ã§ã®çµŒé¨“ã‹ã‚‰å®‰æ˜“ã« &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;rm&lt;/code&gt; ã—ãŸã‚Šã€ãƒªãƒ¢ãƒ¼&lt;a href=&quot;http://d.hatena.ne.jp/keyword/%A5%C8%A5%EA%A5%DD%A5%B8&quot;&gt;ãƒˆãƒªãƒã‚¸&lt;/a&gt;ãƒˆãƒªå´ã§æ¶ˆã—ã¡ã‚ƒã†ã¨å·®åˆ†ã«å›°ã‚‹ã®ã§ã—ã£ã‹ã‚Š &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git rm&lt;/code&gt; ã§ããŸã®ã¯è‰¯ã‹ã£ãŸã€‚ .gitignore ã«è¿½è¨˜ã™ã‚‹ã“ã¨ã§ãƒªãƒ¢ãƒ¼&lt;a href=&quot;http://d.hatena.ne.jp/keyword/%A5%C8%A5%EA%A5%DD%A5%B8&quot;&gt;ãƒˆãƒªãƒã‚¸&lt;/a&gt;ãƒˆãƒªã«è¿½åŠ ã•ã‚Œã‚‹ã“ã¨ã¯å›é¿ã§ãã‚‹ã€‚&lt;/p&gt;

&lt;h2 id=&quot;ç©ºã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã¯-git-add-ã§ããªã„&quot;&gt;ç©ºã®&lt;a href=&quot;http://d.hatena.ne.jp/keyword/%A5%C7%A5%A3%A5%EC%A5%AF%A5%C8&quot;&gt;ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆ&lt;/a&gt;ãƒªã¯ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;git add&lt;/code&gt; ã§ããªã„&lt;/h2&gt;

&lt;p&gt;ãƒ¡ãƒ¢ã‚’æ ¼ç´ã™ã‚‹ç©ºã®&lt;a href=&quot;http://d.hatena.ne.jp/keyword/%A5%C7%A5%A3%A5%EC%A5%AF%A5%C8&quot;&gt;ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆ&lt;/a&gt;ãƒªã‚’ä½œæˆã—ã¦ã„ãŸã®ã ãŒã€ãƒªãƒ¢ãƒ¼&lt;a href=&quot;http://d.hatena.ne.jp/keyword/%A5%C8%A5%EA%A5%DD%A5%B8&quot;&gt;ãƒˆãƒªãƒã‚¸&lt;/a&gt;ãƒˆãƒªå´ã«åæ˜ ã›ãšã«ã¡ã‚‡ã£ã¨å›°ã£ãŸã€‚&lt;/p&gt;

&lt;p&gt;ãã®ã‚ˆã†ãªå ´åˆã¯ .gitkeep ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç½®ã„ãŸã‚Šã™ã‚‹ã‚‰ã—ã„ã€‚&lt;a href=&quot;https://qiita.com/tommy_aka_jps/items/b2ae85cbeab77e12a925&quot;&gt;https://qiita.com/tommy_aka_jps/items/b2ae85cbeab77e12a925&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ã“ã‚Œã§ç„¡äº‹ã«ãƒªãƒ¢ãƒ¼&lt;a href=&quot;http://d.hatena.ne.jp/keyword/%A5%C8%A5%EA%A5%DD%A5%B8&quot;&gt;ãƒˆãƒªãƒã‚¸&lt;/a&gt;ãƒˆãƒªã¸ç©º&lt;a href=&quot;http://d.hatena.ne.jp/keyword/%A5%C7%A5%A3%A5%EC%A5%AF%A5%C8&quot;&gt;ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆ&lt;/a&gt;ãƒªã‚’è¿½åŠ ã§ããŸã€‚&lt;/p&gt;

&lt;h2 id=&quot;rubocop-ã®è¨€ã†ã“ã¨ã‚’ã¡ã‚ƒã‚“ã¨èã&quot;&gt;Rubocop ã®è¨€ã†ã“ã¨ã‚’ã¡ã‚ƒã‚“ã¨èã&lt;/h2&gt;

&lt;p&gt;æå‡ºç›´å‰ã«ãªã£ã¦ rubocop ã‚’é€šã—ã¦ã¿ãŸã¨ãã«ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£é–¢é€£ã®è­¦å‘ŠãŒå‡ºãŸãŒã€ã“ã‚Œã¯ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’åˆ©ç”¨ã›ãšã«ãƒ¡ãƒ¢ã‚’ãƒ•ã‚¡ã‚¤ãƒ«ã§ç®¡ç†ã—ã¦ã„ã‚‹ãŸã‚ã«è¡¨ç¤ºã•ã‚Œã‚‹ã‚‚ã®ã§ã‚ã‚Šã€ä»Šå›ã®å®Ÿè£…ã§ã¯ã—ã‚‡ã†ãŒãªã„ã¨æ€ã„ã“ã‚“ã§ã„ãŸã€‚&lt;/p&gt;

&lt;p&gt;ã®ã§ãã®ã¾ã¾æå‡ºã—ã‚ˆã†ã¨ã—ãŸãŒã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã‚€ã ã‘ã§è­¦å‘ŠãŒå‡ºã‚‹ã¯ãšãªã„ã ã‚ã†ã€è‡ªåˆ†ã‚ˆã‚Šã¯ã‚‹ã‹ã«çµŒé¨“è±Šå¯Œãªäººé”ãŒä½œã£ã¦ãã‚Œã¦ã„ã‚‹ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãªã®ã«å®‰æ˜“ã«ã—ã‚‡ã†ãŒãªã„ã§ç‰‡ä»˜ã‘ã‚‹ã®ã¯æ—©ã¨ã¡ã‚Šãªã®ã§ã¯ãªã„ã‹ã¨æ€ã„ã€ã¡ã‚ƒã‚“ã¨è­¦å‘Šæ–‡ã¨å‘ãåˆã£ãŸã€‚&lt;/p&gt;

&lt;p&gt;è¡¨ç¤ºã•ã‚Œã¦ã„ãŸè­¦å‘Šæ–‡ã¯ä»¥ä¸‹ã®2ã¤ã€‚&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;lib&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;crud_controller&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;rb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;62&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Security&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;The&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Kernel&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#open is a serious security risk.&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'w'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;^^^^&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;lib&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;crud_controller&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;rb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;26&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Correctable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Security&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;JSONLoad&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Prefer&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;parse&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;over&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;
      &lt;span class=&quot;nf&quot;&gt;json_object&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;json_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
                         &lt;span class=&quot;o&quot;&gt;^^^^&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;open&lt;/code&gt; ãƒ¡ã‚½ãƒƒãƒ‰ã¯OSã‚³ãƒãƒ³ãƒ‰ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã®&lt;a href=&quot;http://d.hatena.ne.jp/keyword/%C0%C8%BC%E5%C0%AD&quot;&gt;è„†å¼±æ€§&lt;/a&gt;ãŒã‚ã‚‹ã‚‰ã—ã„&lt;a href=&quot;https://www.lanches.co.jp/blog/5996&quot;&gt;https://www.lanches.co.jp/blog/5996&lt;/a&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;File.open&lt;/code&gt; ã‚’ä½¿ã†ã“ã¨ã§å­˜åœ¨ã—ãªã„ãƒ‘ã‚¹ã®å ´åˆã¯ã‚¨ãƒ©ãƒ¼ã«ãªã‚‹ã®ã§OSã‚³ãƒãƒ³ãƒ‰ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ç–‘ã‚ã‚Œã‚‹ã‚ˆã†ãªãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹ä»¥å¤–ã®æ–‡å­—åˆ—ãŒæ¸¡ã•ã‚Œã¦ã‚‚ã‚¨ãƒ©ãƒ¼ã«ã—ã¦å›é¿ã§ãã‚‹ã€‚&lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;JSON.load&lt;/code&gt; ã§ç›´æ¥ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã‹ãªã„&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;JSON.parse&lt;/code&gt;ã‚’æ¨å¥¨ã•ã‚Œã‚‹ç†ç”±ãŒè‡ªåˆ†ã®æ¤œç´¢èƒ½åŠ›ã§ã¯èª¿ã¹ãã‚Œãªã‹ã£ãŸãŒã€ãªã‚‹ã¹ããƒ•ã‚¡ã‚¤ãƒ«ã¯é–‹ã‹ãªã„ã«è¶Šã—ãŸã“ã¨ã¯ãªã„ã‹ã‚‰ãªã‹ã¨æ¨æ¸¬ã—ãŸã€‚ ãã®ãŸã‚&lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;File.open&lt;/code&gt; ã§èª­ã¿è¾¼ã‚“ã ãƒ•ã‚¡ã‚¤ãƒ«ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;read&lt;/code&gt; ã—ã¦æ–‡å­—åˆ—ã‚’æ¸¡ã—ã¦ &lt;code class=&quot;language-plaintext highlighter-rouge&quot;&gt;parse&lt;/code&gt; ã—ã¦ã‚‚ã‚‰ã†ã‚ˆã†ã«å¤‰æ›´ã—ãŸã€‚&lt;/p&gt;

    &lt;p&gt;json_object = JSON.parse(json_file.read)&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ä¸Šè¨˜ã‚’è¡Œã£ã¦è­¦å‘Šã¯å…¨è§£æ¶ˆã§ããŸã€‚ ã¨åŒæ™‚ã«ã€ã“ã‚Œå®Ÿå‹™ã§ã‚‚ã—ä¿®æ­£ã›ãšã«ãã®ã¾ã¾æœ¬ç•ªç’°å¢ƒã«é©ç”¨ã•ã›ãŸã‚‰&lt;a href=&quot;http://d.hatena.ne.jp/keyword/%C0%C8%BC%E5%C0%AD&quot;&gt;è„†å¼±æ€§&lt;/a&gt;ã‚’ä½œã£ãŸã“ã¨ã«ãªã‚‹ãªãã¨æ€–ããªã£ãŸã€‚&lt;/p&gt;

&lt;p&gt;è­¦å‘Šæ–‡ã‚’æµã—èª­ã¿ã›ãšã€ã—ã£ã‹ã‚Šå‘ãåˆã†ã‚ˆã†ã«æ”¹ã‚ã¦æ€ãˆã‚‹ã„ã„æ©Ÿä¼šã ã£ãŸã€‚&lt;/p&gt;

&lt;h1 id=&quot;æ„Ÿæƒ³ãªã©&quot;&gt;æ„Ÿæƒ³ãªã©&lt;/h1&gt;

&lt;p&gt;&lt;a href=&quot;http://d.hatena.ne.jp/keyword/Sinatra&quot;&gt;Sinatra&lt;/a&gt; ã®ãƒ—&lt;a href=&quot;http://d.hatena.ne.jp/keyword/%A5%E9%A5%AF&quot;&gt;ãƒ©ã‚¯&lt;/a&gt;ãƒ†ã‚£ã‚¹ã®æå‡ºç‰©ã‚’å®Œæˆã•ã›ã‚‰ã‚ŒãŸã€‚&lt;/p&gt;

&lt;p&gt;ã¨ã“ã‚ã©ã“ã‚ãƒãƒã£ãŸã¨ã“ã‚ã¯ã‚ã£ãŸãŒã€ã‹ã¤ã¦ã®ã‚ˆã†ã«ä½•ãŒåˆ†ã‹ã‚‰ãªã„ã‹ã‚‚åˆ†ã‹ã‚‰ãªã„ã®ã§ãƒãƒã‚Šã‚’è§£æ¶ˆã™ã‚‹æ‰‹ãŒã‹ã‚Šã•ãˆå…¨ãä¸æ˜ã€ã¨ã„ã†ã‚ˆã†ãªé ­ã‚’æŠ±ãˆã‚‹ã‚ˆã†ãªãƒ‰ãƒãƒãƒªã¯ãªãã€è‡ªåˆ†ã§èª¿ã¹ã¦è§£æ¶ˆã§ãã‚‹ã‚ˆã†ã«ãªã£ã¦ã„ãŸã®ã§æˆé•·ã—ã¦ã„ã‚‹ã®ã‹ãªã¨æ„Ÿã˜ãŸã€‚&lt;/p&gt;</content><author><name>otomi</name></author><category term="blog" /><summary type="html">1å¹´ä»¥ä¸Šã¶ã‚Šã®è¨˜äº‹ã§ã™ã­ã€‚ å»å¹´ã®12æœˆã‹ã‚‰ãƒ•ã‚£ãƒ¨ãƒ«ãƒ‰ãƒ–ãƒ¼ãƒˆã‚­ãƒ£ãƒ³ãƒ—ã«é€šã£ã¦ãŠã‚Šã€ã‚‚ã†1å¹´ä»¥ä¸ŠçµŒã¡ã¾ã™ã€‚ é€”ä¸­åŠå¹´ä»¥ä¸Šå…¨ç„¶ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’ã‚„ã£ã¦ã„ãªã„ã«ç­‰ã—ã„ã‚ˆã†ãªæ™‚æœŸãŒã‚ã£ãŸã®ã§ã™ãŒã€ã“ã“2ãƒ¶æœˆãã‚‰ã„ã¯ãªã‚“ã¨ã‹å‹‰å¼·ãŒç¿’æ…£åŒ–ã—ã¦ããŸã‚ˆã†ã§é€£æ—¥ã®ã‚ˆã†ã«ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’é€²ã‚ã‚‹ã“ã¨ãŒã§ãã¦ã„ã‚‹çŠ¶æ…‹ã§ã™ã€‚ ãƒ•ã‚£ãƒ¨ãƒ«ãƒ‰ãƒ–ãƒ¼ãƒˆã‚­ãƒ£ãƒ³ãƒ—ã§ã¯ãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‚’ã‚„ã£ãŸæ—¥ã¯å¿…ãšæ—¥å ±ã‚’æ›¸ãã‚ˆã†ã«ãªã£ã¦ãŠã‚Šã€åƒ•ã‚‚å¿…ãšæ›¸ã„ã¦ã„ã¾ã™ã€‚ ãã®æ—¥å ±ã‚’ãƒ–ãƒ­ã‚°ã«ã‚‚æ›¸ã„ã¦å‹‰å¼·ã®éç¨‹ã‚’å…¬é–‹ã—ã‚ˆã†ã—ã‚ˆã†ã¨æ€ã„ã¤ã¤ã‚„ã‚Œã¦ãŠã‚‰ãšã€ã¾ãŸéå»ã«ã•ã‹ã®ã¼ã£ã¦ãƒ–ãƒ­ã‚°æ›¸ãã®ã‚‚ã—ã‚“ã©ã„ã®ã§ä¸­é€”åŠç«¯ã§å”çªãªå§‹ã¾ã‚Šã§ã™ãŒä»Šæ—¥ã‹ã‚‰æœ¬æ°—å‡ºã™ã€‚</summary></entry><entry><title type="html">Huelç”Ÿæ´»ã¯ã˜ã‚ã¾ã—ãŸ</title><link href="http://localhost:4000/I-started-living-on-huel/" rel="alternate" type="text/html" title="Huelç”Ÿæ´»ã¯ã˜ã‚ã¾ã—ãŸ" /><published>2019-11-07T00:00:00+09:00</published><updated>2019-11-07T00:00:00+09:00</updated><id>http://localhost:4000/I-started-living-on-huel</id><content type="html" xml:base="http://localhost:4000/I-started-living-on-huel/">&lt;p&gt;å¸¸ã€…ã€ä¸€äººã®ã¨ãã®é£Ÿäº‹ã£ã¦ã‚ã‚“ã©ãã•ã„ãªã€œæ „é¤Šã¯å–ã‚ŠãŸã„ã‘ã©è²·ã„ã«ã„ãæ‰‹é–“ã‚‚ã‹ã‘ãŸããªã„ã—é£Ÿè²»ã¯ãªã‚‹ã¹ãæŠ‘ãˆãŸã„ã—ã€è‡ªç‚Šã‚‚æ™‚é–“ã‹ã‹ã‚‹ã—ãã‚“ãªæ¥½ã—ããªã„ã—ãƒ»ãƒ»ãƒ»ã¨ãªã‚“ã¨ã‹ãƒãƒƒã‚¯ã—ãŸã„ã¨æ€ã£ã¦ãŠã‚Šã¾ã—ã¦ã€ãã‚“ãªã‚ã‘ã§&lt;a href=&quot;https://jp.huel.com/&quot;&gt;Huel&lt;/a&gt;ã‚’è©¦ã—ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚&lt;/p&gt;

&lt;!-- more --&gt;
&lt;h3 id=&quot;huelã«ã—ãŸç†ç”±&quot;&gt;Huelã«ã—ãŸç†ç”±&lt;/h3&gt;

&lt;h4 id=&quot;ä¾¡æ ¼&quot;&gt;ä¾¡æ ¼&lt;/h4&gt;

&lt;p&gt;ã“ã‚Œç³»ã®å®Œå…¨æ „é¤Šé£Ÿã ã¨ã€&lt;a href=&quot;http://www.comp.jp/index.html&quot;&gt;COMP&lt;/a&gt;ã¨ã‹&lt;a href=&quot;https://www.allinseries.jp/&quot;&gt;All-inã‚·ãƒªãƒ¼ã‚º&lt;/a&gt;ã¨ã‹ãŒã‚ã‚‹ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;åƒ•ã¯ãƒ€ã‚¤ã‚¨ãƒƒãƒˆã‚’ã—ãŸã„ã‚ã‘ã§ã¯ãªãã€ä½“é‡ã‚’å¢—ã‚„ã™æ–¹ã®è‚‰ä½“æ”¹é€ ã‚‚ã—ãŸã„ãªã¨ã„ã†ç›®è«–è¦‹ãŒã‚ã‚Šã¾ã—ã¦ã€é£Ÿäº‹ã§ã—ã£ã‹ã‚Šã‚«ãƒ­ãƒªãƒ¼ã‚’æ‘‚ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚&lt;br /&gt;
å¤§ä½“ä¸€å›ã®é£Ÿäº‹ã§700~1000kcalãã‚‰ã„æ‘‚ã‚ŠãŸã„ã€‚1æ—¥ã‚ãŸã‚Š2200kcal~ãã‚‰ã„ã‚’ç›®æ¨™ã«ã—ã¦ã„ã¾ã™ã€‚&lt;/p&gt;

&lt;p&gt;ãã†ãªã‚‹ã¨ä¾¡æ ¼ãŒæ°—ã«ãªã£ã¦ãã‚‹ã‚“ã§ã™ã‚ˆã­ã€‚&lt;/p&gt;

&lt;p&gt;Huelã®å ´åˆè‡ªåˆ†ã§ä½œã‚‹ãƒ‘ã‚¦ãƒ€ãƒ¼ã‚¿ã‚¤ãƒ—ã§ãŠãŠã‚ˆãä¸€é£Ÿ600å††ãã‚‰ã„ã«ã™ã‚‹ã“ã¨ãŒã§ãã¦ã€è‰¯ã•ãã†ã§ã—ãŸã€‚&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;Huelã¯16,666å††ä»¥ä¸Šã€ã‚ã‚‹ã„ã¯è¡£é¡ã®ã¿ã®æ³¨æ–‡ï¼ˆè¡£é¡ã ã‘æ³¨æ–‡ã™ã‚‹äººã¯ãã‚“ãªã«ã„ãªã„ã§ã—ã‚‡ã†ã‹ãƒ»ãƒ»ï¼‰ã§10%ãã‚‰ã„ã®é–¢ç¨ãŒç™ºç”Ÿã—ã¾ã™ã€‚&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;COMPã‚„All-inã‚·ãƒªãƒ¼ã‚ºã¨ã®å³å¯†ãªä¾¡æ ¼æ¯”è¼ƒã¯ã—ã¦ã„ã¾ã›ã‚“ã€‚é–¢ç¨ã¨ã‹è€ƒæ…®ã™ã‚‹ã¨Huelä»¥å¤–ã®æ–¹ãŒå®‰ããªã‚‹å¯èƒ½æ€§ã‚‚ã‚ã‚Šã¾ã™ã®ã§ã€è³¼å…¥ã®éš›ã¯ã”è‡ªèº«ã§ã‚‚æ¯”è¼ƒã•ã‚Œã¦ãã ã•ã„ã€‚&lt;/strong&gt;&lt;/li&gt;
  &lt;li&gt;ä¾¡æ ¼ã®æ¯”è¼ƒã¯åˆ¥é€”è¨˜äº‹ã«ã™ã‚‹ã‹ã‚‚ã€‚&lt;/li&gt;
&lt;/ul&gt;

&lt;h4 id=&quot;è¦‹ãŸç›®&quot;&gt;è¦‹ãŸç›®&lt;/h4&gt;

&lt;p&gt;æŒã¡é‹ã³ã«ä¾¿åˆ©ãªãƒœãƒˆãƒ«ã‚¿ã‚¤ãƒ—ã®ãƒ‡ã‚¶ã‚¤ãƒ³ãŒå¥½ãã§ã—ãŸã€‚&lt;br /&gt;
å¤–ã§ã‚‚å…¨ç„¶é•å’Œæ„Ÿãªãé£²ã‚ãã†ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://f.hatena.ne.jp/a_k_s_h/20191107133807&quot;&gt;&lt;img src=&quot;https://cdn-ak.f.st-hatena.com/images/fotolife/a/a_k_s_h/20191107/20191107133807.jpg&quot; alt=&quot;20191107133807&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;ã¡ãªã¿ã«ã“ã®ãƒœãƒˆãƒ«ã‚¿ã‚¤ãƒ—ã ã¨ä¸€æœ¬ã‚ãŸã‚Šç´„500å††ã§ã€ä¾¿åˆ©ãªåˆ†ãƒ‘ã‚¦ãƒ€ãƒ¼ã‚¿ã‚¤ãƒ—ã‚ˆã‚Šå‰²é«˜ã§ã™ã€‚&lt;/p&gt;

&lt;p&gt;ãƒœãƒˆãƒ«ã‚¿ã‚¤ãƒ—ã¯ä¸€æœ¬400kcalãªã®ã§ã€ä½“é‡ã‚’æ¸›ã‚‰ã—ãŸã„ç›®çš„ãŒãªã‘ã‚Œã°æˆäººç”·æ€§ã§ã¯è¶³ã‚Šãªã„ã¨æ€ã„ã¾ã™ã€‚&lt;br /&gt;
2æœ¬é£²ã‚€ã“ã¨ã€ç¶™ç¶šã™ã‚‹ã“ã¨ã‚’è€ƒãˆã‚‹ã¨ãƒ‘ã‚¦ãƒ€ãƒ¼ã‚¿ã‚¤ãƒ—ãŒè‰¯ã•ãã†ã§ã™ã€‚&lt;/p&gt;

&lt;h3 id=&quot;å®Ÿéš›ã«å±Šãã¾ã—ãŸ&quot;&gt;å®Ÿéš›ã«å±Šãã¾ã—ãŸ&lt;/h3&gt;

&lt;p&gt;æ³¨æ–‡ã—ã¦ç´„1é€±é–“ã§å±Šãã¾ã—ãŸã€‚ ãŠã—ã‚ƒã‚Œã§ã„ã„ã§ã™ã­ã€‚&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://cdn-ak.f.st-hatena.com/images/fotolife/a/a_k_s_h/20191105/20191105101742.jpg&quot; alt=&quot;f:id:a_k_s_h:20191105101742j:plain&quot; title=&quot;f:id:a\_k\_s\_h:20191105101742j:plain&quot; /&gt;&lt;/p&gt;

&lt;p&gt;ä¸€ãƒ¶æœˆåˆ†æ³¨æ–‡ã—ãŸã®ã§ã€ã“ã®ãƒ–ãƒ­ã‚°ã‚„&lt;a href=&quot;https://twitter.com/ot0m1&quot;&gt;Twitter&lt;/a&gt;ã§çµŒéå ±å‘Šã‚’ã—ã¦ã„ããŸã„ã¨æ€ã„ã¾ã™ã€‚&lt;/p&gt;</content><author><name>otomi</name></author><category term="blog" /><summary type="html">å¸¸ã€…ã€ä¸€äººã®ã¨ãã®é£Ÿäº‹ã£ã¦ã‚ã‚“ã©ãã•ã„ãªã€œæ „é¤Šã¯å–ã‚ŠãŸã„ã‘ã©è²·ã„ã«ã„ãæ‰‹é–“ã‚‚ã‹ã‘ãŸããªã„ã—é£Ÿè²»ã¯ãªã‚‹ã¹ãæŠ‘ãˆãŸã„ã—ã€è‡ªç‚Šã‚‚æ™‚é–“ã‹ã‹ã‚‹ã—ãã‚“ãªæ¥½ã—ããªã„ã—ãƒ»ãƒ»ãƒ»ã¨ãªã‚“ã¨ã‹ãƒãƒƒã‚¯ã—ãŸã„ã¨æ€ã£ã¦ãŠã‚Šã¾ã—ã¦ã€ãã‚“ãªã‚ã‘ã§Huelã‚’è©¦ã—ã¦ã¿ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚</summary></entry></feed>